{"version":3,"sources":["webpack:///src/app/Shared/shopPage/orderPage/orderPage.html","webpack:///src/app/Shared/shopPage/productPage/productPage.html","webpack:///src/app/Shared/shopPage/shopPage.html","webpack:///src/app/Shared/shopPage/orderPage/orderPage.scss","webpack:///src/app/Shared/shopPage/orderPage/orderPage.ts","webpack:///src/app/Shared/shopPage/productPage/productPage.scss","webpack:///src/app/Shared/shopPage/productPage/productPage.ts","webpack:///src/app/Shared/shopPage/shopPage.module.ts","webpack:///src/app/Shared/shopPage/shopPage.scss","webpack:///src/app/Shared/shopPage/shopPage.ts"],"names":["OrderPage","service","sanitizer","GlobalFields","secureUrl","getSecurePageURL","setWhiteBlackBackgroundStatusBar","selectedProduct","url","selectedOrderUrl","undefined","includes","replace","bypassSecurityTrustResourceUrl","profile","cookie","selector","template","ProductPage","router","inAppBrowser","products","navigateByUrl","permalink","browser","create","ShopPageModule","imports","forChild","path","component","declarations","ShopPage","wooCommerceService","translate","categories","loading","lastNumber","page","showFilters","loadFirstTimeProducts","loadCategories","getAllProductCategories","subscribe","res","length","concat","loadMoreProducts","categoriesSelected","forEach","cat","selected","push","id","getAllProducts"],"mappings":"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","file":"shopPage-shopPage-module-es5.js","sourcesContent":["export default \"<ion-header translucent=\\\"true\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n  <ion-toolbar dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"tabs/shop\\\" (click)=\\\"GlobalFields.selectedProduct = undefined\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Checkout</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n\\r\\n  <iframe [src]='secureUrl'\\r\\n          #iframe\\r\\n          webkitallowfullscreen mozallowfullscreen allowfullscreen\\r\\n          sandbox=\\\"allow-scripts allow-top-navigation allow-pointer-lock allow-forms allow-same-origin allow-popups\\\"\\r\\n          style=\\\"width: 100%; height: 100%; border: none\\\">\\r\\n  </iframe>\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header translucent=\\\"true\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n  <ion-toolbar dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"tabs/shop\\\" (click)=\\\"GlobalFields.selectedProduct = undefined\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"GlobalFields.selectedProduct\\\">{{GlobalFields.selectedProduct.name}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n  <div *ngIf=\\\"GlobalFields.selectedProduct\\\" style=\\\"margin: 10px\\\">\\r\\n    <ion-slides *ngIf=\\\"GlobalFields.selectedProduct.images && GlobalFields.selectedProduct.images.length>0\\\">\\r\\n      <ion-slide *ngFor=\\\"let img of GlobalFields.selectedProduct.images\\\" style=\\\"background-color: whitesmoke;\\\">\\r\\n      <div style=\\\"text-align: center; background-color: whitesmoke;\\\">\\r\\n        <img src=\\\"{{img.src}}\\\" style=\\\"height: 150px; width: auto\\\"/>\\r\\n      </div>\\r\\n      </ion-slide>\\r\\n    </ion-slides>\\r\\n    <ion-card-header>\\r\\n      <ion-card-subtitle [innerHTML]=\\\"GlobalFields.selectedProduct.price_html\\\"></ion-card-subtitle>\\r\\n      <ion-card-title style=\\\"font-size: 12pt\\\">\\r\\n        {{GlobalFields.selectedProduct.name}}\\r\\n      </ion-card-title>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <div [innerHTML]=\\\"GlobalFields.selectedProduct.short_description\\\"></div>\\r\\n\\r\\n      <br><br>\\r\\n      <div style=\\\"text-align: center\\\">\\r\\n        <button style=\\\"margin-bottom: 10px; padding: 10px; border-radius: 50px; box-shadow: 0 2px 8px rgba(0,0,0,.15)!important; background-color: white;\\\" (click)=\\\"goToOrder()\\\">\\r\\n          <i class=\\\"fas fa-shopping-cart\\\"></i> {{'BUY_NOW' | translate}}\\r\\n        </button>\\r\\n      </div>\\r\\n\\r\\n\\r\\n    </ion-card-content>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header translucent=\\\"true\\\" mode=\\\"{{GlobalFields.mode}}\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n  <ion-toolbar>\\r\\n    <!-- If Side menu is used-->\\r\\n    <ion-buttons *ngIf=\\\"GlobalFields.site_details.navigationType==2\\\" slot=\\\"start\\\">\\r\\n      <ion-menu-button style=\\\"color: #3b3c3c\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{'SHOP' | translate}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" style=\\\"position: absolute; right: 5px\\\">\\r\\n      <button *ngIf=\\\"!showFilters\\\" class=\\\"btn-search-header\\\" (click)=\\\"showFilters=!showFilters\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"fas fa-search\\\"></i></button>\\r\\n      <button *ngIf=\\\"showFilters\\\" class=\\\"btn-search-header\\\" style=\\\"color: red; padding: 8px 10px\\\" (click)=\\\"showFilters=!showFilters\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"fas fa-times\\\"></i></button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n  <ion-header *ngIf=\\\"!showFilters\\\" collapse=\\\"condense\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\r\\n      <ion-title size=\\\"large\\\">{{'SHOP' | translate}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n  <div class=\\\"filtersBox\\\" *ngIf=\\\"showFilters\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n    <ion-row  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n      <ion-col size=\\\"4\\\"><b>{{'CATEGORIES' | translate}}:</b></ion-col>\\r\\n      <ion-col size=\\\"6\\\">\\r\\n        <span *ngFor=\\\"let cat of categories\\\">\\r\\n          <input type=\\\"checkbox\\\" id=\\\"{{'cat' + cat.id}}\\\" name=\\\"{{'cat' + cat.id}}\\\" [(ngModel)]=\\\"cat.selected\\\">\\r\\n          <label for=\\\"{{'cat' + cat.id}}\\\" style=\\\"padding-left: 10px;\\\">{{cat.name}}</label><br>\\r\\n        </span>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <div style=\\\"text-align: right\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n      <button class=\\\"btn-search-header\\\" style=\\\"position: relative\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\" (click)=\\\"loadFirstTimeProducts(); showFilters=false\\\">\\r\\n        <ion-icon name=\\\"search\\\"></ion-icon> {{'SHOW_RESULTS' | translate}}\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div *ngIf=\\\"!loading && products && products.length==0\\\" style=\\\"padding: 20px\\\">\\r\\n    No products\\r\\n  </div>\\r\\n\\r\\n  <span *ngFor=\\\"let prod of products\\\" >\\r\\n   <productList [product]=\\\"prod\\\"></productList>\\r\\n  </span>\\r\\n\\r\\n  <!-- Paging -->\\r\\n  <div *ngIf=\\\"!loading && products && lastNumber>19\\\" style=\\\"width: 100%; text-align: center; margin-top: 10px; margin-bottom: 20px;\\\" (click)=\\\"loadMoreProducts()\\\">\\r\\n    <ion-icon name=\\\"refresh\\\"></ion-icon> {{'LOAD_MORE' | translate}}\\r\\n  </div>\\r\\n\\r\\n  <!-- Loading -->\\r\\n  <div *ngIf=\\\"loading\\\">\\r\\n    <ion-list style=\\\"padding: 15px\\\">\\r\\n      <div *ngFor=\\\"let items of [1,2,3]\\\">\\r\\n        <ion-thumbnail style=\\\"width: 100%; height: 200px;\\\">\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </ion-thumbnail>\\r\\n        <ion-label>\\r\\n          <h3><ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text></h3>\\r\\n          <p><ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text></p>\\r\\n          <p><ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text></p>\\r\\n        </ion-label>\\r\\n        <br>\\r\\n      </div>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL1NoYXJlZC9zaG9wUGFnZS9vcmRlclBhZ2Uvb3JkZXJQYWdlLnNjc3MifQ== */\";","import {Component} from '@angular/core';\r\nimport {Service} from '../../../services/Service';\r\nimport {GlobalFields} from '../../../GlobalFields';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'page-order',\r\n  templateUrl: 'orderPage.html',\r\n  styleUrls: ['orderPage.scss']\r\n})\r\nexport class OrderPage {\r\n\r\n  GlobalFields = GlobalFields;\r\n\r\n  secureUrl;\r\n\r\n\r\n  constructor(private service: Service, private sanitizer:DomSanitizer) {\r\n    this.secureUrl = this.getSecurePageURL();\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n    this.service.setWhiteBlackBackgroundStatusBar();\r\n    this.GlobalFields.selectedProduct\r\n  }\r\n\r\n\r\n  getSecurePageURL() {\r\n    let url = this.GlobalFields.selectedOrderUrl;\r\n    this.GlobalFields.selectedOrderUrl = undefined;\r\n\r\n    if (!url.includes(\"https\")){\r\n      url.replace(\"http\", \"https\")\r\n    }\r\n\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url + '?cookie=' + GlobalFields.profile.cookie);\r\n  }\r\n\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL1NoYXJlZC9zaG9wUGFnZS9wcm9kdWN0UGFnZS9wcm9kdWN0UGFnZS5zY3NzIn0= */\";","import {Component} from '@angular/core';\r\nimport {Service} from '../../../services/Service';\r\nimport {GlobalFields} from '../../../GlobalFields';\r\nimport {WooCommerceService} from '../../../services/WooCommerceService';\r\nimport {Product} from '../../../entities/Product';\r\nimport {Router} from '@angular/router';\r\nimport {InAppBrowser} from '@ionic-native/in-app-browser/ngx';\r\n\r\n\r\n@Component({\r\n  selector: 'page-product',\r\n  templateUrl: 'productPage.html',\r\n  styleUrls: ['productPage.scss']\r\n})\r\nexport class ProductPage {\r\n\r\n  GlobalFields = GlobalFields;\r\n\r\n  products:Product[] = [];\r\n\r\n  constructor(private service: Service,private router: Router,\r\n              public inAppBrowser: InAppBrowser) {\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n   if(!GlobalFields.selectedProduct)\r\n     this.router.navigateByUrl('/tabs/shop');\r\n    this.service.setWhiteBlackBackgroundStatusBar();\r\n  }\r\n\r\n  goToOrder(){\r\n   // this.router.navigate(['tabs/shop/order'])\r\n    let url = GlobalFields.selectedProduct.permalink;\r\n    if(GlobalFields.profile)\r\n      url =  url + '?cla_cookie=' + GlobalFields.profile.cookie;\r\n    const browser = this.inAppBrowser.create(url, '_blank');\r\n\r\n  }\r\n\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport {NgModule} from \"@angular/core\";\r\nimport {ShopPage} from './shopPage';\r\nimport {OrderPage} from './orderPage/orderPage';\r\nimport {ProductPage} from './productPage/productPage';\r\nimport {AppModule} from '../../app.module';\r\nimport {SharedModule} from '../../shared.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        RouterModule.forChild([\r\n            {\r\n                path: '',\r\n                component: ShopPage\r\n            }, {\r\n                path: 'product',\r\n                component: ProductPage\r\n            }, {\r\n                path: 'order',\r\n                component: OrderPage\r\n            }\r\n        ]),\r\n      SharedModule\r\n    ],\r\n    declarations: [ShopPage,OrderPage,ProductPage]\r\n})\r\nexport class ShopPageModule {}\r\n","export default \".filtersBox {\\n  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.09);\\n  padding: 10px;\\n  margin: 10px;\\n  background-color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvU2hhcmVkL3Nob3BQYWdlL0M6XFxqb2tlc29uam9lbFxcam9rZXNvbmpvZWwvc3JjXFxhcHBcXFNoYXJlZFxcc2hvcFBhZ2VcXHNob3BQYWdlLnNjc3MiLCJzcmMvYXBwL1NoYXJlZC9zaG9wUGFnZS9zaG9wUGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUNBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9TaGFyZWQvc2hvcFBhZ2Uvc2hvcFBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWx0ZXJzQm94e1xyXG4gIGJveC1zaGFkb3c6IDAgMXB4IDhweCByZ2IoMCAwIDAgLyA5JSk7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBtYXJnaW46IDEwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuIiwiLmZpbHRlcnNCb3gge1xuICBib3gtc2hhZG93OiAwIDFweCA4cHggcmdiYSgwLCAwLCAwLCAwLjA5KTtcbiAgcGFkZGluZzogMTBweDtcbiAgbWFyZ2luOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn0iXX0= */\";","import {Component} from '@angular/core';\r\nimport {Service} from '../../services/Service';\r\nimport {GlobalFields} from '../../GlobalFields';\r\nimport {WooCommerceService} from '../../services/WooCommerceService';\r\nimport {Product} from '../../entities/Product';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {ListingCategory} from '../../entities/listingCategory';\r\nimport {Listing} from '../../entities/myListing/listing';\r\n\r\n\r\n@Component({\r\n  selector: 'page-shop',\r\n  templateUrl: 'shopPage.html',\r\n  styleUrls: ['shopPage.scss']\r\n})\r\nexport class ShopPage {\r\n\r\n  GlobalFields = GlobalFields;\r\n\r\n  products: Product[] = [];\r\n  categories: {\r\n    count?: number; //how many products has\r\n    description?: string;\r\n    id?: number;\r\n    name?: string;\r\n    slug?: string;\r\n    selected?: boolean;\r\n  }[] = [];\r\n\r\n  loading = true;\r\n  lastNumber = 20;\r\n  page = 1;\r\n\r\n  showFilters = false;\r\n\r\n  constructor(private service: Service, private wooCommerceService: WooCommerceService, public translate: TranslateService) {\r\n    this.loadFirstTimeProducts();\r\n    this.loadCategories();\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n    this.service.setWhiteBlackBackgroundStatusBar();\r\n  }\r\n\r\n\r\n  loadCategories(){\r\n    this.wooCommerceService.getAllProductCategories(0).subscribe((res: any[]) => {\r\n      if (res && res.length > 0)\r\n        this.categories = this.categories.concat(res);\r\n    });\r\n  }\r\n\r\n\r\n  loadFirstTimeProducts(){\r\n    this.page = 0;\r\n    this.products = []\r\n    this.loadMoreProducts();\r\n  }\r\n\r\n  loadMoreProducts() {\r\n    this.loading = true;\r\n    //User can add listings, so show packages\r\n    /*if (GlobalFields.isLoggedIn && GlobalFields.userRole.can_add_listings) {\r\n      this.wooCommerceService.getPromotionPackages(this.page).subscribe((res: Product[]) => {\r\n        if (res && res.length > 0) {\r\n          this.products = this.products.concat(res);\r\n          this.lastNumber = res.length;\r\n          this.page = this.page + 1;\r\n        } else\r\n          this.lastNumber = 0;\r\n        this.loadingHard = false;\r\n      });\r\n    }*/\r\n    //User CANNOT add listings, show all products\r\n  //  else {\r\n\r\n\r\n\r\n    const categoriesSelected = [];\r\n    if(this.categories && this.categories.length>0)\r\n      this.categories.forEach(cat =>{\r\n        if (cat.selected)\r\n          categoriesSelected.push(cat.id)\r\n      })\r\n\r\n    this.wooCommerceService.getAllProducts(this.page,categoriesSelected).subscribe((res: Product[]) => {\r\n      if (res && res.length > 0) {\r\n        this.products = this.products.concat(res);\r\n        this.lastNumber = res.length;\r\n        this.page = this.page + 1;\r\n      } else\r\n        this.lastNumber = 0;\r\n      this.loading = false;\r\n    });\r\n\r\n      // }\r\n  }\r\n\r\n\r\n}\r\n"]}