{"version":3,"sources":["webpack:///src/app/ListingPro/searchPage/filterModal/filterModal_LP.html","webpack:///src/app/ListingPro/searchPage/mapModal/mapModal_LP.html","webpack:///src/app/ListingPro/searchPage/searchPage_LP.html","webpack:///src/app/ListingPro/searchPage/filterModal/filterModal_LP.scss","webpack:///src/app/ListingPro/searchPage/filterModal/filterModal_LP.ts","webpack:///src/app/ListingPro/searchPage/mapModal/mapModal_LP.scss","webpack:///src/app/ListingPro/searchPage/mapModal/mapModal_LP.ts","webpack:///src/app/ListingPro/searchPage/searchPage_LP.scss","webpack:///src/app/ListingPro/searchPage/searchPage_LP.ts","webpack:///src/app/ListingPro/searchPage/search_LP.module.ts"],"names":["FilterModal_LP","service","lpservice","locationService","modalCrtl","translate","statusBar","modalCtrl","geolocation","nativeGeocoder","alertController","GlobalFields","GlobalFieldsListingPro","categories","types","iniFilter","setWhiteBlackBackgroundStatusBar","console","log","filtersSearch","prepareOptionsTags","prepareOptionsFeatures","features","length","tags","forEach","cat","count","c","isChecked","val","push","getFilteredListingFirstTime","dismiss","getLocation","location","address","clearFilters","selector","template","MapModal_LP","mlservice","selectedListing","undefined","myLat","myLng","loadingMoreData","currentZoom","showSelected","loading","allListings","positions","site_details","showMapAllListings","getPositions","getAllListings","mapType","getPositionsOSMaps","listings","filteredListings","currentAddressCompute","listing","post_meta","latitude","longitude","createPosition","parseFloat","endOfComputeAddresses","gAddress","getMyLatLongFromGoogle","subscribe","data","results","geometry","lat","lng","getLatLongFromOpenMaps","lon","getMeanLat","getMeanLng","totals","current","iniMaps","long","imgUrl","category","icon1","label","post_title","draggable","iconUrl","getMarkerIcon","iconNameHtml","iconImgUrlHtml","getListingImg","labelOptions","color","fontFamily","fontSize","fontWeight","text","osMap","setView","attribution","addTo","customMarkerIcon","iconSize","popupAnchor","makerToOpen","markers","i","pos","html","defaultIcon","shadowUrl","m","icon","name","bindPopup","autoClose","on","clickedMarker","addLayer","panTo","setTimeout","mark","marker","res","url","labelOrigin","x","y","scaledSize","getImgSize","height","width","img","Image","src","Number","create","component","modal","present","filterModal","event","success","image","gallery","cover_image","placeholderImgUrl","SearchPage_LP","platform","oldScollPostion","headerClass","customPopoverOptions","header","basicSearch","initialCall","is","isAndroid","mapModal","currentPage","callServiceToGetFilteredListings","infiniteScroll","disabled","reloadOrder","setLocation","getFilteredListings","listingsCount","concat","el","document","getElementById","rect","getBoundingClientRect","bottom","window","innerHeight","SearchPage_LPModule","imports","forChild","path","declarations","exports"],"mappings":"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","file":"ListingPro-searchPage-search_LP-module-es5.js","sourcesContent":["export default \"<ion-header style=\\\"background-color: white; border: none; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-row class=\\\"filters\\\">\\r\\n      <div style=\\\"background-color: white; padding: 10px; text-align: center; height: 100%;\\\">\\r\\n        <ion-icon name=\\\"close\\\" style=\\\"font-size: 20px;\\\" (click)=\\\"closeModal()\\\"></ion-icon>\\r\\n      </div>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n\\r\\n<ion-content *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail && GlobalFieldsListingPro.listingTypeDetail.filter_status\\\"  [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n  <div style=\\\"padding: 15px; height: 100%; width: 100%; margin-top: 10px; margin-bottom: 130px\\\">\\r\\n\\r\\n    <div>\\r\\n\\r\\n      <!-- Where - Search by keyword -->\\r\\n      <div class=\\\"filterSection\\\">\\r\\n        <i class=\\\"fas fa-search iconsChoices\\\"></i><ion-label class=\\\"titleSectionFilter\\\">{{'WHAT' | translate}}</ion-label>\\r\\n        <ion-input clearInput placeholder=\\\"Insert\\\"  style=\\\"margin-left: 15px; width: calc(100% - 30px);\\\"\\r\\n                   [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.skeyword\\\"></ion-input>\\r\\n      </div>\\r\\n\\r\\n      <!-- What - region/locations -->\\r\\n      <div class=\\\"filterSection\\\">\\r\\n        <i class=\\\"fas fa-map-marker-alt iconsChoices\\\"></i> <ion-label class=\\\"titleSectionFilter\\\">{{'WHERE' | translate}}\\r\\n       </ion-label>\\r\\n\\r\\n        <i *ngIf=\\\"!GlobalFieldsListingPro.filtersSearch.location || GlobalFieldsListingPro.filtersSearch.location != GlobalFields.address\\\" (click)=\\\"getMyAddress()\\\" class=\\\"fas fa-location-arrow\\\" style=\\\" float: left; margin-top: 45px;\\\"></i>\\r\\n        <i *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.location && GlobalFieldsListingPro.filtersSearch.location == GlobalFields.address\\\"  (click)=\\\"getMyAddress()\\\" class=\\\"fas fa-location-arrow\\\" style=\\\" float: left; margin-top: 45px;\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\"></i>\\r\\n\\r\\n        <!-- Address -->\\r\\n        <div style=\\\"display: flex\\\"*ngIf=\\\"GlobalFieldsListingPro.filtersSearch.location\\\">\\r\\n          <div style=\\\"width: 80%; margin: auto; color: #9c9c9c; font-style: italic; margin: auto; padding: 10px 5px;\\\"> <!-- Location -->\\r\\n            {{GlobalFieldsListingPro.filtersSearch.location}}\\r\\n          </div>\\r\\n          <div style=\\\"width: 10%;\\\" *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.location\\\" >\\r\\n            <i (click)=\\\"GlobalFieldsListingPro.filtersSearch.location = undefined\\\" class=\\\"far fa-trash-alt rightClearBtn\\\"></i>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Locations-->\\r\\n        <div *ngIf=\\\"!GlobalFieldsListingPro.filtersSearch.location\\\" style=\\\"width: 100%;\\\">\\r\\n          <i *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.locations && GlobalFieldsListingPro.filtersSearch.locations!=''\\\" (click)=\\\"GlobalFieldsListingPro.filtersSearch.locations = undefined\\\" class=\\\"far fa-trash-alt rightClearBtn\\\"></i>\\r\\n          <ion-item style=\\\"padding:0px; width: calc(90% - 30px)\\\">\\r\\n            <ion-select [cancelText]=\\\"'CANCEL' | translate\\\" [okText]=\\\"'SELECT' | translate\\\" [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.locations\\\" placeholder=\\\"{{'SELECT' | translate}}\\\" selectedText=\\\"{{GlobalFieldsListingPro.filtersSearch.locations}}\\\">\\r\\n              <ion-select-option  *ngFor=\\\"let r of GlobalFieldsListingPro.regions\\\" value=\\\"{{r.name}}\\\">{{r.name}}</ion-select-option>\\r\\n            </ion-select>\\r\\n          </ion-item>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <!-- Near me -->\\r\\n      <div class=\\\"filterSection\\\" *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_nearme_search_filter\\\">\\r\\n        <br>\\r\\n        <ion-list>\\r\\n          <ion-item >\\r\\n            <ion-label>{{'NEAR_YOU' | translate}}</ion-label>\\r\\n            <ion-toggle color=\\\"primary\\\" [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.nearMe\\\"></ion-toggle>\\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n        <br>\\r\\n\\r\\n        <span *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.nearMe\\\">\\r\\n           <!-- Proximity -->\\r\\n        <i class=\\\"far fa-dot-circle iconsChoices\\\"> </i> <ion-label class=\\\"titleSectionFilter\\\">Proximity</ion-label>\\r\\n          {{GlobalFieldsListingPro.filtersSearch.range}} {{GlobalFieldsListingPro.listingTypeDetail.filter_status.lp_nearme_filter_param}}\\r\\n          <ion-range [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.range\\\"\\r\\n                     min=\\\"{{GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_readious_search_filter_min}}\\\"\\r\\n                     max=\\\"{{GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_readious_search_filter_max}}\\\"\\r\\n                     step=\\\"10\\\"\\r\\n                     color=\\\"secondary\\\" pin=\\\"true\\\"></ion-range>\\r\\n        </span>\\r\\n      </div>\\r\\n\\r\\n      <!-- Prices -->\\r\\n      <div class=\\\"filterSection\\\" *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_price_search_filter\\\" >\\r\\n        <ion-label class=\\\"titleSectionFilter\\\">{{'PRICE_RANGE' | translate}}</ion-label>\\r\\n        <br><br>\\r\\n        <ion-segment [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.price_status\\\">\\r\\n          <ion-segment-button value=\\\"'inexpensive'\\\">\\r\\n            <ion-label>{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}</ion-label>\\r\\n          </ion-segment-button>\\r\\n          <ion-segment-button value=\\\"'moderate'\\\">\\r\\n            <ion-label>{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}</ion-label>\\r\\n          </ion-segment-button>\\r\\n          <ion-segment-button value=\\\"'pricey'\\\">\\r\\n            <ion-label>{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}</ion-label>\\r\\n          </ion-segment-button>\\r\\n          <ion-segment-button value=\\\"'ultra_high_end'\\\">\\r\\n            <ion-label>{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}{{GlobalFieldsListingPro.listingTypeDetail.listing_pricerange_symbol}}</ion-label>\\r\\n          </ion-segment-button>\\r\\n        </ion-segment>\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <!-- Booleans -->\\r\\n      <div class=\\\"filterSection\\\">\\r\\n        <br>\\r\\n        <ion-list>\\r\\n          <ion-item *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_opentime_search_filter\\\">\\r\\n            <ion-label>{{'OPEN_NOW' | translate}}</ion-label>\\r\\n            <ion-toggle color=\\\"primary\\\" [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.openNow\\\"></ion-toggle>\\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n      </div>\\r\\n\\r\\n      <!-- categories-->\\r\\n      <div class=\\\"filterSection\\\" *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_cats_search_filter && GlobalFieldsListingPro.listingCategories\\\">\\r\\n        <i class=\\\"fas fa-tasks iconsChoices\\\"></i> <ion-label class=\\\"titleSectionFilter\\\">{{'CATEGORIES' | translate}}</ion-label>\\r\\n        <i *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.categories && GlobalFieldsListingPro.filtersSearch.categories.length > 0\\\" (click)=\\\"GlobalFieldsListingPro.filtersSearch.categories = undefined\\\" class=\\\"far fa-trash-alt rightClearBtn\\\"></i>\\r\\n        <ion-item style=\\\"padding:0px; width: calc(100% - 30px)\\\">\\r\\n          <ion-select [cancelText]=\\\"'CANCEL' | translate\\\" [okText]=\\\"'SELECT' | translate\\\"  [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.categories\\\" placeholder=\\\"{{'SELECT' | translate}}\\\" selectedText=\\\"{{GlobalFieldsListingPro.filtersSearch.categories}}\\\">\\r\\n            <ion-select-option *ngFor=\\\"let c of GlobalFieldsListingPro.listingCategories\\\" value=\\\"{{c.name}}\\\">{{c.name}}</ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n      </div>\\r\\n\\r\\n      <!-- Extra fields filter -->\\r\\n      <span *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail.filter_status.enable_extrafields_filter\\\">\\r\\n\\r\\n       <!-- <h3 style=\\\"text-align: center\\\">MORE FILTERS</h3> -->\\r\\n\\r\\n\\r\\n        <!-- features -->\\r\\n        <div class=\\\"filterSection\\\">\\r\\n         <i class=\\\"far fa-check-circle iconsChoices\\\"></i> <ion-label class=\\\"titleSectionFilter\\\">{{'DETAILS'| translate}}</ion-label>\\r\\n          <ion-item *ngFor=\\\"let t of GlobalFieldsListingPro.filtersSearch.features\\\" style=\\\" font-size: 10pt; padding: 0; margin-bottom: -11px; background-color: transparent;\\\">\\r\\n            <ion-label>{{t.val.name}}</ion-label>\\r\\n            <ion-checkbox slot=\\\"end\\\" [(ngModel)]=\\\"t.isChecked\\\" ></ion-checkbox>\\r\\n          </ion-item>\\r\\n        </div>\\r\\n\\r\\n\\r\\n      </span>\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"filterSection\\\" style=\\\"text-align: right; color: #f13224;\\\" (click)=\\\"clearFilters()\\\"><i class=\\\"far fa-trash-alt\\\"></i> {{'CLEAR_FILTER'| translate}}</div>\\r\\n\\r\\n    <br>\\r\\n    <br>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<ion-footer style=\\\"display: inline-flex; padding: 5px; padding-bottom: 20px; background-color: white; border: none;\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n  <button class=\\\"buttonSearch\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\" (click)=\\\"getFilteredListingsFirstTime(); closeModal()\\\">\\r\\n    <ion-icon style=\\\"margin-bottom:-3px;\\\" name=\\\"search\\\"></ion-icon> <ion-text style=\\\"margin-left: 8px;\\\">{{'SHOW_RESULTS' | translate}}</ion-text>\\r\\n  </button>\\r\\n</ion-footer>\\r\\n\\r\\n\";","export default \"<ion-header class=\\\"ionHeaderHeader\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\" style=\\\"background-color: white; border: none; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);\\\">\\r\\n    <ion-toolbar  class=\\\"toolbarHeader\\\">\\r\\n        <div class=\\\"headerContainer\\\">\\r\\n            <div class=\\\"headerCol1\\\" (click)=\\\"closeModal()\\\">\\r\\n                <i class=\\\"fas fa-times\\\"  ></i>\\r\\n            </div>\\r\\n            <div class=\\\"headerCol2\\\">\\r\\n                <span>{{'MAP' | translate}}</span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content  style=\\\"overflow: hidden;\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n\\r\\n\\r\\n    <!-- ***************** Google Maps ***************** -->\\r\\n\\r\\n    <!-- https://github.com/SebastianM/angular-google-maps -->\\r\\n    <!-- https://www.npmjs.com/package/agm-direction -->\\r\\n    <span *ngIf=\\\"GlobalFields.site_details.mapType == 1\\\">\\r\\n        <agm-map *ngIf=\\\"!loading\\\"\\r\\n                 [latitude]=\\\"myLat\\\"\\r\\n                 [longitude]=\\\"myLng\\\"\\r\\n                 [zoom]=\\\"currentZoom\\\"\\r\\n                 [zoomControl]=\\\"false\\\"\\r\\n                 [streetViewControl]=\\\"false\\\"\\r\\n                 [clickableIcons]=\\\"false\\\"\\r\\n                 (centerChange)=\\\"centerChanged($event)\\\"\\r\\n                 [gestureHandling]=\\\"'greedy'\\\">\\r\\n\\r\\n            <agm-marker *ngIf=\\\"GlobalFields.lat && GlobalFields.long\\\"\\r\\n                    [latitude]=\\\"GlobalFields.lat\\\"\\r\\n                    [longitude]=\\\"GlobalFields.long\\\"\\r\\n                    [iconUrl]= \\\"{url: '../../../assets/imgs/street-view.png', labelOrigin:{x:22.5,y:20}, scaledSize: {height: 40, width: 40}}\\\">\\r\\n\\r\\n               <!-- <agm-info-window>\\r\\n                    <ion-button color=\\\"primary\\\">Search nearby listings</ion-button>\\r\\n                </agm-info-window>\\r\\n                -->\\r\\n            </agm-marker>\\r\\n\\r\\n           <!-- <agm-marker\\r\\n                    *ngFor=\\\"let m of positions; let i = index\\\"\\r\\n                    (markerClick)=\\\"clickedMarker(m)\\\"\\r\\n                    [latitude]=\\\"m.lat\\\"\\r\\n                    [longitude]=\\\"m.lng\\\"\\r\\n                    [markerDraggable]=\\\"m.draggable\\\"\\r\\n                    [label]=\\\"m.labelOptions\\\"\\r\\n                    [iconUrl]=\\\"m.iconUrl\\\">\\r\\n\\r\\n                <agm-info-window [isOpen]=\\\"m.listing == selectedListing\\\">\\r\\n                    <div style=\\\"width: 100%;\\\" *ngIf=\\\"selectedListing!=undefined\\\">\\r\\n                        <page-listingList [listing]=\\\"selectedListing\\\" [type]=\\\"'1'\\\" [search]=\\\"false\\\"></page-listingList>\\r\\n                    </div>\\r\\n                </agm-info-window>\\r\\n\\r\\n            </agm-marker>\\r\\n\\r\\n            -->\\r\\n\\r\\n             <agm-marker-cluster imagePath=\\\"https://raw.githubusercontent.com/googlemaps/v3-utility-library/master/markerclustererplus/images/m\\\">\\r\\n               <agm-overlay\\r\\n                       *ngFor=\\\"let m of positions; let i = index\\\"\\r\\n                       (markerClick)=\\\"clickedMarker(m)\\\"\\r\\n                       [latitude]=\\\"m.lat\\\"\\r\\n                       [longitude]=\\\"m.lng\\\">\\r\\n\\r\\n                    <!-- Custom pin HTML-->\\r\\n                    <div class=\\\"imgMapPin\\\"><img [src]=\\\"m.iconImgUrlHtml\\\"><img class=\\\"iconMapPinWithImg\\\" [src]=\\\"m.iconNameHtml\\\"></div>\\r\\n\\r\\n                   <!-- Window opened on click-->\\r\\n                    <agm-info-window [isOpen]=\\\"m.listing == selectedListing\\\">\\r\\n                        <div style=\\\"width: 100%;\\\" *ngIf=\\\"selectedListing!=undefined\\\">\\r\\n                            <listingList_LP [listing]=\\\"selectedListing\\\" [type]=\\\"'1'\\\" [search]=\\\"false\\\"></listingList_LP>\\r\\n                        </div>\\r\\n                    </agm-info-window>\\r\\n\\r\\n               </agm-overlay>\\r\\n              </agm-marker-cluster>\\r\\n\\r\\n\\r\\n\\r\\n            <!--  <agm-direction *ngFor=\\\"let pos of positions\\\" [origin]=\\\"pos\\\" [destination]=\\\"pos\\\"></agm-direction> -->\\r\\n        </agm-map>\\r\\n    </span>\\r\\n\\r\\n\\r\\n    <!-- ***************** Open Street Maps ***************** -->\\r\\n\\r\\n    <span *ngIf=\\\"GlobalFields.site_details.mapType == 2\\\">\\r\\n        <div id=\\\"map\\\" style=\\\"width:100%; height:100%;\\\"></div>\\r\\n\\r\\n\\r\\n        <div *ngIf=\\\"showSelected\\\" class=\\\"listingCard\\\">\\r\\n            <listingList_LP [listing]=\\\"selectedListing\\\" [type]=\\\"'1'\\\" [search]=\\\"true\\\"></listingList_LP>\\r\\n        </div>\\r\\n\\r\\n    </span>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\";","export default \"<!-- Lista tipi listing -->\\r\\n<ion-header translucent=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <!-- If Side menu is used-->\\r\\n    <ion-buttons *ngIf=\\\"GlobalFields.site_details.navigationType==2\\\" slot=\\\"start\\\">\\r\\n      <ion-menu-button style=\\\"color: #ffffff\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-row class=\\\"filters\\\">\\r\\n      <ion-col col-6 style=\\\"float: left\\\">\\r\\n        <ion-item *ngIf=\\\"GlobalFieldsListingPro.listingTypeDetail && GlobalFieldsListingPro.listingTypeDetail\\\">\\r\\n          <ion-select interface=\\\"popover\\\" [(ngModel)]=\\\"GlobalFieldsListingPro.filtersSearch.order\\\" style=\\\"max-width: 100%;\\\"\\r\\n                      [cancelText]=\\\"'CANCEL' | translate\\\" [okText]=\\\"'SELECT' | translate\\\"\\r\\n                      (ionChange)=\\\"initialCall(false)\\\">\\r\\n            <ion-label>asd <ion-icon name=\\\"list\\\" style=\\\"font-size: 24px !important; color: #484848 !important; font-weight: bolder; position: relative; top: 3px;\\\"></ion-icon></ion-label>\\r\\n            <ion-select-option *ngFor=\\\"let order of GlobalFieldsListingPro.listingTypeDetail.order_type\\\" value=\\\"{{order}}\\\">\\r\\n          <span [ngSwitch]=\\\"order\\\">\\r\\n            <span *ngSwitchCase=\\\"'MOST_REVIEWED'\\\">Most Reviewed</span>\\r\\n            <span *ngSwitchCase=\\\"'MOST_VIEWED'\\\">Most Viewed</span>\\r\\n            <span *ngSwitchCase=\\\"'HIGHEST_RATED'\\\">Highest Rated</span>\\r\\n          </span>\\r\\n            </ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col col-6 style=\\\"float: right\\\">\\r\\n        <button class=\\\"btnOrderSearch\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n          <span *ngIf=\\\"!GlobalFieldsListingPro.filtersSearch.listingsCount && GlobalFieldsListingPro.filtersSearch.listingsCount != 0\\\"></span>\\r\\n          <span *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.listingsCount == 0\\\">{{'NO_RESULTS' | translate}}</span>\\r\\n          <span *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.listingsCount && GlobalFieldsListingPro.filtersSearch.listingsCount > 0\\\"> {{GlobalFieldsListingPro.filtersSearch.listingsCount}} {{'RESULTS' | translate}}</span>\\r\\n        </button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<!-- <ion-content class=\\\"cards-bg social-cards\\\"  [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  [scrollEvents]=\\\"true\\\" (ionScroll)=\\\"onScrollHideHeader($event)\\\"> -->\\r\\n<ion-content class=\\\"cards-bg social-cards\\\"  [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJsonSearchPage()\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n  <!-- Filter/Map buttons Float Buttons Style-->\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf=\\\"GlobalFields.site_details.filtersBtnStyle==1\\\">\\r\\n    <ion-fab-button class=\\\"filterDefaultBtnFiltersContainer\\\"   color=\\\"primary\\\" (click)=\\\"openFilter()\\\">\\r\\n      <i class=\\\"fas fa-filter\\\" style=\\\"font-size: 22px; color: white;\\\"></i>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\" *ngIf=\\\"GlobalFields.site_details.filtersBtnStyle==1\\\">\\r\\n    <ion-fab-button class=\\\"filterDefaultBtnFiltersContainer\\\"  color=\\\"primary\\\" (click)=\\\"openMap()\\\" [disabled]=\\\"!GlobalFieldsListingPro.filteredListings || !(GlobalFieldsListingPro.filteredListings.length > 0)\\\">\\r\\n      <i class=\\\"fas fa-map-marked-alt\\\" style=\\\"font-size: 22px; color: white;\\\"></i>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  <ion-fab vertical=\\\"bottom\\\" slot=\\\"fixed\\\" style=\\\"left: 50%; -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%);\\\">\\r\\n    <ion-fab-button color=\\\"medium\\\" class=\\\"tripBtnFiltersContainer\\\" [class.tripBtnFiltersContainerAndroid]=\\\"isAndroid\\\" *ngIf=\\\"GlobalFields.site_details.filtersBtnStyle==2\\\">\\r\\n      <button (click)=\\\"openMap()\\\" style=\\\"border-radius: 50px 0 0 50px; border-right: 1px solid #eeeeee !important;\\\" [disabled]=\\\"!GlobalFieldsListingPro.filteredListings || !(GlobalFieldsListingPro.filteredListings.length > 0)\\\"><i class=\\\"fas fa-map-marked-alt\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\"></i> {{'MAP' | translate}}</button>\\r\\n      <button (click)=\\\"openFilter()\\\" style=\\\"border-radius: 0 50px 50px 0;\\\"><i class=\\\"fas fa-filter\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\"></i> {{'FILTERS' | translate}}</button>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  <!-- Filter/Map buttons TripAdvisor Style\\r\\n  <div class=\\\"tripBtnFiltersContainer\\\" [class.tripBtnFiltersContainerAndroid]=\\\"isAndroid\\\" *ngIf=\\\"GlobalFields.site_details.filtersBtnStyle==2\\\">\\r\\n    <button (click)=\\\"openMap()\\\" style=\\\"border-radius: 50px 0 0 50px; border-right: 1px solid #eeeeee !important;\\\"><i class=\\\"fas fa-map-marked-alt\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\"></i> {{'MAP' | translate}}</button>\\r\\n    <button (click)=\\\"openFilter()\\\" style=\\\"border-radius: 0 50px 50px 0;\\\"><i class=\\\"fas fa-filter\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorJson()\\\"></i> {{'FILTERS' | translate}}</button>\\r\\n  </div>\\r\\n  -->\\r\\n\\r\\n  <ion-row>\\r\\n\\r\\n    <!-- List of results-->\\r\\n    <ion-row *ngIf=\\\"GlobalFieldsListingPro.filteredListings && GlobalFieldsListingPro.filteredListings.length>0\\\" style=\\\"width: 100%; margin-bottom: 100px;\\\">\\r\\n\\r\\n      <ion-col col-12 style=\\\"padding: 10px;\\\">\\r\\n        <div *ngFor=\\\"let listing of GlobalFieldsListingPro.filteredListings;  let i = index\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n          <listingList_LP [listing]=\\\"listing\\\" [search]=\\\"true\\\"></listingList_LP>\\r\\n        </div>\\r\\n\\r\\n        <!-- <div style=\\\"width: 100%; text-align: center;\\\" *ngIf=\\\"!GlobalFieldsMyListing.filtersSearch.noMorePage && !loadingMoreData\\\" (click)=\\\"loadData()\\\">\\r\\n          <ion-icon name=\\\"refresh\\\"></ion-icon> {{'LOAD_MORE' | translate}}\\r\\n        </div>\\r\\n        <div style=\\\"width: 100%; text-align: center;\\\" *ngIf=\\\"loadingMoreData\\\">\\r\\n          <div class=\\\"lds-ellipsis\\\"><div></div><div></div><div></div><div></div></div>\\r\\n        </div>-->\\r\\n\\r\\n        <div style=\\\"text-align: center; width: 100%; height: 300px; color: #afafaf; padding-top: 100px;\\\" *ngIf=\\\"loadingMoreData\\\">\\r\\n          <div style=\\\"margin-bottom: -10px\\\">\\r\\n            Loading more\\r\\n          </div>\\r\\n          <div class=\\\"lds-ellipsis\\\" ><div></div><div></div><div></div><div></div></div>\\r\\n        </div>\\r\\n\\r\\n         <ion-infinite-scroll *ngIf=\\\"!this.loadingMoreData && (GlobalFieldsListingPro.filtersSearch.pageCount > GlobalFieldsListingPro.filtersSearch.currentPage+1)\\\" threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n            <ion-infinite-scroll-content\\r\\n              loadingSpinner=\\\"dots\\\"\\r\\n              loadingText=\\\"{{'LOAD_MORE' | translate}}\\\">\\r\\n            </ion-infinite-scroll-content>\\r\\n         </ion-infinite-scroll>\\r\\n\\r\\n\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row *ngIf=\\\"GlobalFieldsListingPro.filteredListings && GlobalFieldsListingPro.filteredListings.length==0\\\" style=\\\"width: 100%;\\\">\\r\\n      <ion-col>\\r\\n        <div *ngIf=\\\"GlobalFieldsListingPro.filtersSearch.location\\\" class=\\\"noResults\\\">\\r\\n          {{'NO_NEAR_RESULTS' | translate}} <i>{{GlobalFieldsListingPro.filtersSearch.location}}</i> <br><br> {{'EDIT_FILTER_RETRY' | translate}}.\\r\\n        </div>\\r\\n        <div *ngIf=\\\"!GlobalFieldsListingPro.filtersSearch.location\\\" class=\\\"noResults\\\">\\r\\n         {{'NO_RESULTS' | translate}}. <br><br> {{'EDIT_FILTER_RETRY' | translate}}.\\r\\n        </div>\\r\\n\\r\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\"  (click)=\\\"openFilter()\\\"><ion-icon name=\\\"switch\\\"></ion-icon> {{'FILTERS' | translate}}</ion-button>\\r\\n\\r\\n        <div (click)=\\\"clearFilters()\\\" style=\\\"padding: 15px; text-align: center; color: #F44336;\\\">\\r\\n          <i class=\\\"fas fa-trash\\\"></i> Clear filters\\r\\n        </div>\\r\\n\\r\\n\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n\\r\\n    <div style=\\\"width: 100%; text-align: center; background-color: transparent; position: fixed; top: 50%;\\\" *ngIf=\\\"GlobalFieldsListingPro.filteredListings == undefined\\\">\\r\\n      <div class=\\\"lds-ellipsis\\\" ><div></div><div></div><div></div><div></div></div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </ion-row>\\r\\n\\r\\n  <div id=\\\"check-point\\\"></div>  <!-- Check point to the bottom -->\\r\\n</ion-content>\\r\\n\";","export default \".sectionTitleFilter {\\n  font-size: 20px;\\n  letter-spacing: normal !important;\\n  color: #484848 !important;\\n  padding-top: 2px !important;\\n  padding-bottom: 2px !important;\\n  padding: 5px;\\n  margin-bottom: 10px;\\n  line-height: 26px !important;\\n}\\n\\n.iconsChoices {\\n  padding-right: 5px;\\n  font-size: 22px;\\n  padding-left: 5px;\\n}\\n\\n.rightClearBtn {\\n  margin-right: 10px;\\n  float: right;\\n  margin-top: 18px;\\n  z-index: 999;\\n  color: #f13224;\\n}\\n\\n.buttonSearch {\\n  background-color: white;\\n  width: 80%;\\n  margin: auto;\\n  font-size: 16px;\\n  height: 35px;\\n  font-weight: 600;\\n  color: #3fdc7e;\\n  border-radius: 50px;\\n  border: solid 1px #f3f3f3;\\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvTGlzdGluZ1Byby9zZWFyY2hQYWdlL2ZpbHRlck1vZGFsL0M6XFxqb2tlc29uam9lbFxcam9rZXNvbmpvZWwvc3JjXFxhcHBcXExpc3RpbmdQcm9cXHNlYXJjaFBhZ2VcXGZpbHRlck1vZGFsXFxmaWx0ZXJNb2RhbF9MUC5zY3NzIiwic3JjL2FwcC9MaXN0aW5nUHJvL3NlYXJjaFBhZ2UvZmlsdGVyTW9kYWwvZmlsdGVyTW9kYWxfTFAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGVBQUE7RUFDQSxpQ0FBQTtFQUNBLHlCQUFBO0VBQ0EsMkJBQUE7RUFDQSw4QkFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLDRCQUFBO0FDQUY7O0FER0E7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ0FGOztBREdBO0VBQ0UsdUJBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLDBDQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9MaXN0aW5nUHJvL3NlYXJjaFBhZ2UvZmlsdGVyTW9kYWwvZmlsdGVyTW9kYWxfTFAuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4uc2VjdGlvblRpdGxlRmlsdGVye1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsICFpbXBvcnRhbnQ7XHJcbiAgY29sb3I6IHJnYig3MiwgNzIsIDcyKSAhaW1wb3J0YW50O1xyXG4gIHBhZGRpbmctdG9wOiAycHggIWltcG9ydGFudDtcclxuICBwYWRkaW5nLWJvdHRvbTogMnB4ICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI2cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmljb25zQ2hvaWNlc3tcclxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIHBhZGRpbmctbGVmdDogNXB4O1xyXG59XHJcblxyXG4ucmlnaHRDbGVhckJ0bntcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIG1hcmdpbi10b3A6IDE4cHg7XHJcbiAgei1pbmRleDogOTk5O1xyXG4gIGNvbG9yOiAjZjEzMjI0O1xyXG59XHJcblxyXG4uYnV0dG9uU2VhcmNoe1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIHdpZHRoOiA4MCU7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogcmdiKDYzLCAyMjAsIDEyNik7XHJcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuICBib3JkZXI6IHNvbGlkIDFweCAjZjNmM2YzO1xyXG4gIGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxufVxyXG4iLCIuc2VjdGlvblRpdGxlRmlsdGVyIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjNDg0ODQ4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctdG9wOiAycHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDJweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyNnB4ICFpbXBvcnRhbnQ7XG59XG5cbi5pY29uc0Nob2ljZXMge1xuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XG59XG5cbi5yaWdodENsZWFyQnRuIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi10b3A6IDE4cHg7XG4gIHotaW5kZXg6IDk5OTtcbiAgY29sb3I6ICNmMTMyMjQ7XG59XG5cbi5idXR0b25TZWFyY2gge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgd2lkdGg6IDgwJTtcbiAgbWFyZ2luOiBhdXRvO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGhlaWdodDogMzVweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6ICMzZmRjN2U7XG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIGJvcmRlcjogc29saWQgMXB4ICNmM2YzZjM7XG4gIGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn0iXX0= */\";","import {Component} from '@angular/core';\r\nimport {GlobalFields} from '../../../GlobalFields';\r\nimport {CheckboxType} from '../../../entities/checkboxType';\r\nimport {Service} from '../../../services/Service';\r\nimport {AlertController, ModalController} from '@ionic/angular';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {LocationService} from '../../../services/LocationService';\r\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\r\nimport {Geolocation} from '@ionic-native/geolocation/ngx';\r\nimport {NativeGeocoder} from '@ionic-native/native-geocoder/ngx';\r\nimport {GlobalFieldsMyListing} from '../../../GlobalFieldsMyListing';\r\nimport {MyListingService} from '../../../services/MyListingService';\r\nimport {ListingProService} from '../../../services/ListingProService';\r\nimport {GlobalFieldsListingPro} from '../../../GlobalFieldsListingPro';\r\n\r\n\r\n@Component({\r\n  selector: 'page-filter',\r\n  templateUrl: 'filterModal_LP.html',\r\n  styleUrls: ['filterModal_LP.scss']\r\n})\r\nexport class FilterModal_LP {\r\n\r\n  GlobalFields = GlobalFields;\r\n  GlobalFieldsListingPro = GlobalFieldsListingPro;\r\n\r\n  categories: CheckboxType[] = [];\r\n  types: CheckboxType[] = [];\r\n\r\n  constructor(public service: Service, public lpservice: ListingProService, public locationService: LocationService, public modalCrtl: ModalController, public translate: TranslateService, private statusBar: StatusBar,\r\n              public modalCtrl: ModalController, private geolocation: Geolocation,\r\n              private nativeGeocoder: NativeGeocoder, private alertController: AlertController) {\r\n\r\n    this.iniFilter();\r\n\r\n    this.service.setWhiteBlackBackgroundStatusBar();\r\n\r\n\r\n    console.log(GlobalFieldsListingPro.filtersSearch);\r\n\r\n  }\r\n\r\n  iniFilter() {\r\n    if (!GlobalFieldsListingPro.filtersSearch) {\r\n      this.prepareOptionsTags();\r\n      this.prepareOptionsFeatures();\r\n      // this.prepareCustomFieldsDropdown();\r\n    } else {\r\n     /* if (GlobalFieldsListingPro.filtersSearch.tags.length == 0)\r\n        this.prepareOptionsTags();*/\r\n      if (GlobalFieldsListingPro.filtersSearch.features.length == 0)\r\n        this.prepareOptionsFeatures();\r\n      /*  if (this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdownKeys.length == 0 ||\r\n            this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdownKeys.length == 0 ||\r\n            this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdown.length == 0)\r\n            this.prepareCustomFieldsDropdown();\r\n            */\r\n\r\n    }\r\n  }\r\n\r\n\r\n  prepareOptionsTags() {\r\n    GlobalFieldsListingPro.tags.forEach(cat => {\r\n      if(cat.count>0) {\r\n        let c = new CheckboxType();\r\n        c.isChecked = false;\r\n        c.val = cat;\r\n        GlobalFieldsListingPro.filtersSearch.tags.push(c);\r\n        console.log(cat);\r\n      }\r\n    });\r\n  }\r\n\r\n  prepareOptionsFeatures() {\r\n    GlobalFieldsListingPro.features.forEach(cat => {\r\n      if(cat.count>0) {\r\n        let c = new CheckboxType();\r\n        c.isChecked = false;\r\n        c.val = cat;\r\n        GlobalFieldsListingPro.filtersSearch.features.push(c);\r\n        console.log(cat);\r\n      }\r\n    });\r\n  }\r\n\r\n  //prepara un array di stringhe per le key dei custom fields dropdown e uno dove ogni elemento  un array di opzioni\r\n  //poi inizializza a [] nella posizione corrispondente\r\n  /*  prepareCustomFieldsDropdown() {\r\n        this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdownKeys = [];\r\n        this.GlobalFieldsMyListing.filtersSearch.customTaxonomiesDropdownKeysOptions = [];\r\n        this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdown = [];\r\n\r\n        GlobalFieldsMyListing.selectedTypeDetail.case27_listing_type_search_page.advanced.facets.forEach(filter => {\r\n            if (filter.show_field && filter.show_field != 'job_tags' && filter.show_field != 'job_category' && filter.show_field != 'job_region' && filter.show_field != 'job_title') { //its a custom field\r\n                this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdownKeys.push(filter.show_field);\r\n                let options = [];\r\n                if (GlobalFieldsMyListing.selectedTypeDetail.case27_listing_type_fields[filter.show_field].options)\r\n                    for (const key of Object.keys(GlobalFieldsMyListing.selectedTypeDetail.case27_listing_type_fields[filter.show_field].options)) {\r\n                        options.push(GlobalFieldsMyListing.selectedTypeDetail.case27_listing_type_fields[filter.show_field].options[key]);\r\n                    }\r\n                this.GlobalFieldsMyListing.filtersSearch.customTaxonomiesDropdownKeysOptions.push(\r\n                    {key: filter.show_field, options: options}\r\n                );\r\n            }\r\n        });\r\n        for (let i = 0; i < this.GlobalFieldsMyListing.filtersSearch.customFieldsDropdownKeys.length; i++) {\r\n            GlobalFieldsMyListing.filtersSearch.customFieldsDropdown.push([]);\r\n        }\r\n\r\n        console.log(this.GlobalFieldsMyListing.filtersSearch.customTaxonomiesDropdownKeysOptions);\r\n\r\n    }\r\n*/\r\n\r\n\r\n  getFilteredListingsFirstTime() {\r\n    GlobalFieldsListingPro.getFilteredListingFirstTime(this.lpservice, this.locationService, true);\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalCrtl.dismiss();\r\n  }\r\n\r\n\r\n\r\n  getMyAddress() {\r\n    this.GlobalFields.getLocation(this.geolocation, this.nativeGeocoder, this.alertController, this.service, this.locationService);\r\n    GlobalFieldsListingPro.filtersSearch.location = GlobalFields.address;\r\n  }\r\n\r\n\r\n\r\n  clearFilters() {\r\n    GlobalFieldsListingPro.clearFilters();\r\n    this.iniFilter();\r\n  }\r\n\r\n\r\n}\r\n","export default \".sectionTitleFilter {\\n  font-size: 20px;\\n  letter-spacing: normal !important;\\n  color: #484848 !important;\\n  padding-top: 2px !important;\\n  padding-bottom: 2px !important;\\n  padding: 5px;\\n  margin-bottom: 10px;\\n  line-height: 26px !important;\\n}\\n\\n.iconsChoices {\\n  font-size: 22px;\\n}\\n\\nagm-map {\\n  height: 100%;\\n}\\n\\n.toolbar-background {\\n  background: transparent !important;\\n  border: none !important;\\n}\\n\\nion-content .scroll-content {\\n  margin-top: 0px !important;\\n}\\n\\n.header-ios .toolbar-background-ios {\\n  border: none !important;\\n  box-shadow: none !important;\\n}\\n\\n.header-md .toolbar-background-md {\\n  border: none !important;\\n  box-shadow: none !important;\\n}\\n\\n.header-md::after {\\n  background-image: none !important;\\n}\\n\\n.backImg {\\n  width: 100%;\\n  height: 100px;\\n  background-position: center !important;\\n  background-size: cover !important;\\n  border-radius: 5px;\\n}\\n\\n.listingCard {\\n  position: fixed;\\n  z-index: 999;\\n  bottom: 15px;\\n  width: 90% !important;\\n  left: 5%;\\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 2px 4px 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvTGlzdGluZ1Byby9zZWFyY2hQYWdlL21hcE1vZGFsL0M6XFxqb2tlc29uam9lbFxcam9rZXNvbmpvZWwvc3JjXFxhcHBcXExpc3RpbmdQcm9cXHNlYXJjaFBhZ2VcXG1hcE1vZGFsXFxtYXBNb2RhbF9MUC5zY3NzIiwic3JjL2FwcC9MaXN0aW5nUHJvL3NlYXJjaFBhZ2UvbWFwTW9kYWwvbWFwTW9kYWxfTFAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGVBQUE7RUFDQSxpQ0FBQTtFQUNBLHlCQUFBO0VBQ0EsMkJBQUE7RUFDQSw4QkFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLDRCQUFBO0FDQUY7O0FER0E7RUFDRSxlQUFBO0FDQUY7O0FER0E7RUFDRSxZQUFBO0FDQUY7O0FER0E7RUFDRSxrQ0FBQTtFQUNBLHVCQUFBO0FDQUY7O0FER0E7RUFDRSwwQkFBQTtBQ0FGOztBREdBO0VBQ0UsdUJBQUE7RUFDQSwyQkFBQTtBQ0FGOztBREVBO0VBQ0UsdUJBQUE7RUFDQSwyQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUNBQUE7QUNDRjs7QURJQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0NBQUE7RUFJQSxpQ0FBQTtFQUNBLGtCQUFBO0FDREY7O0FESUE7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtFQUNBLFFBQUE7RUFDQSwwREFBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvTGlzdGluZ1Byby9zZWFyY2hQYWdlL21hcE1vZGFsL21hcE1vZGFsX0xQLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLnNlY3Rpb25UaXRsZUZpbHRlcntcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbCAhaW1wb3J0YW50O1xyXG4gIGNvbG9yOiByZ2IoNzIsIDcyLCA3MikgIWltcG9ydGFudDtcclxuICBwYWRkaW5nLXRvcDogMnB4ICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZy1ib3R0b206IDJweCAhaW1wb3J0YW50O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyNnB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pY29uc0Nob2ljZXN7XHJcbiAgZm9udC1zaXplOiAyMnB4XHJcbn1cclxuXHJcbmFnbS1tYXAge1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnRvb2xiYXItYmFja2dyb3VuZCB7XHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcclxuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWNvbnRlbnQgLnNjcm9sbC1jb250ZW50IHtcclxuICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmhlYWRlci1pb3MgLnRvb2xiYXItYmFja2dyb3VuZC1pb3Mge1xyXG4gIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xyXG4gIGJveC1zaGFkb3c6IG5vbmUhaW1wb3J0YW50O1xyXG59XHJcbi5oZWFkZXItbWQgLnRvb2xiYXItYmFja2dyb3VuZC1tZCB7XHJcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgYm94LXNoYWRvdzogbm9uZSFpbXBvcnRhbnQ7XHJcblxyXG59XHJcbi5oZWFkZXItbWQ6OmFmdGVye1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxuXHJcblxyXG4uYmFja0ltZ3tcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMHB4O1xyXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gIC13ZWJraXQtYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xyXG4gIC1tb3otYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xyXG4gIC1vLWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG4ubGlzdGluZ0NhcmR7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHotaW5kZXg6IDk5OTtcclxuICBib3R0b206IDE1cHg7XHJcbiAgd2lkdGg6IDkwJSAhaW1wb3J0YW50O1xyXG4gIGxlZnQ6IDUlO1xyXG4gIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4wNikgMHB4IDJweCA0cHggMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcblxyXG4iLCIuc2VjdGlvblRpdGxlRmlsdGVyIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjNDg0ODQ4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctdG9wOiAycHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDJweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyNnB4ICFpbXBvcnRhbnQ7XG59XG5cbi5pY29uc0Nob2ljZXMge1xuICBmb250LXNpemU6IDIycHg7XG59XG5cbmFnbS1tYXAge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi50b29sYmFyLWJhY2tncm91bmQge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuaW9uLWNvbnRlbnQgLnNjcm9sbC1jb250ZW50IHtcbiAgbWFyZ2luLXRvcDogMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5oZWFkZXItaW9zIC50b29sYmFyLWJhY2tncm91bmQtaW9zIHtcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLmhlYWRlci1tZCAudG9vbGJhci1iYWNrZ3JvdW5kLW1kIHtcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLmhlYWRlci1tZDo6YWZ0ZXIge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQ7XG59XG5cbi5iYWNrSW1nIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciAhaW1wb3J0YW50O1xuICAtd2Via2l0LWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG4gIC1vLWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5saXN0aW5nQ2FyZCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgei1pbmRleDogOTk5O1xuICBib3R0b206IDE1cHg7XG4gIHdpZHRoOiA5MCUgIWltcG9ydGFudDtcbiAgbGVmdDogNSU7XG4gIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4wNikgMHB4IDJweCA0cHggMHB4ICFpbXBvcnRhbnQ7XG59Il19 */\";","import {Component} from '@angular/core';\r\nimport {GlobalFields} from '../../../GlobalFields';\r\nimport {Service} from '../../../services/Service';\r\nimport {AlertController, ModalController, Platform} from '@ionic/angular';\r\nimport {Listing} from '../../../entities/myListing/listing';\r\nimport {FilterModal_LP} from '../filterModal/filterModal_LP';\r\nimport {LocationService} from '../../../services/LocationService';\r\nimport {Map, tileLayer, marker, Marker, icon, divIcon} from 'leaflet';\r\nimport * as L from 'leaflet';\r\nimport 'leaflet.markercluster';\r\nimport {MyListingService} from '../../../services/MyListingService';\r\nimport {ListingPage_LP} from '../../listingPage/listing-page_LP.component';\r\nimport {Listing_LP, SearchResult_LP} from '../../../entities/listingPro/Listing_LP';\r\nimport {ListingProService} from '../../../services/ListingProService';\r\nimport {GlobalFieldsListingPro} from '../../../GlobalFieldsListingPro';\r\n\r\n//import * as L from 'leaflet';\r\n\r\n\r\n/*import {\r\n    GoogleMaps,\r\n    GoogleMap,\r\n    GoogleMapsEvent,\r\n    GoogleMapOptions,\r\n    Marker,\r\n    Environment\r\n} from '@ionic-native/google-maps/ngx';\r\n*/\r\n\r\ninterface marker {\r\n  lat: number;\r\n  lng: number;\r\n  label?: string;\r\n  draggable: boolean;\r\n  listing?: any;\r\n  iconUrl?: { url: string, labelOrigin: { x: number, y: number }, scaledSize: { height: number, width: number } };\r\n  iconNameHtml?: string,\r\n  iconImgUrlHtml: string,\r\n  labelOptions?: {\r\n    color: string,\r\n    fontFamily: string,\r\n    fontSize: string,\r\n    fontWeight: string,\r\n    text: string\r\n  };\r\n}\r\n\r\n@Component({\r\n  selector: 'map-filter',\r\n  templateUrl: 'mapModal_LP.html',\r\n  styleUrls: ['mapModal_LP.scss']\r\n})\r\nexport class MapModal_LP {\r\n\r\n\r\n  // slides: https://docs.google.com/presentation/d/e/2PACX-1vScoho1ensbR4qCI9AIuQN55BZVvK73pAjI7sumDvW3CrxxHnrmpXWUjx2-8CpFibqU1EjLKCRhuthJ/pub?start=false&loop=false&delayms=3000&slide=id.g291e604610_0_6\r\n\r\n  GlobalFields = GlobalFields;\r\n  GlobalFieldsListingPro = GlobalFieldsListingPro;\r\n  // map: GoogleMap;\r\n\r\n  osMap: Map; //Open Street Map\r\n  selectedListing: Listing_LP = undefined;\r\n\r\n  myLat: number = 51.673858;\r\n  myLng: number = 7.815982;\r\n\r\n  public origin: any;\r\n  public destination: any;\r\n\r\n  loadingMoreData = false;\r\n\r\n  currentZoom = 11;\r\n\r\n  showSelected = false;\r\n\r\n  loading = true;\r\n\r\n  allListings: Listing_LP[] = [];\r\n\r\n  positions: marker[] = [];\r\n\r\n\r\n  constructor(public service: Service, public lpservice: ListingProService, public mlservice: MyListingService, public modalCtrl: ModalController, public locationService: LocationService, public alertController: AlertController) {\r\n\r\n    //this.service.setTransparentBackgroundStatusBar();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    //show only listings in the result\r\n    if (!this.GlobalFields.site_details.showMapAllListings) {\r\n      this.getPositions();\r\n    } else //show all the listings\r\n      this.getAllListings();\r\n  }\r\n\r\n\r\n  iniMaps() {\r\n    if (GlobalFields.site_details.mapType == 2) // Open Street Maps\r\n      this.getPositionsOSMaps();\r\n    else if (GlobalFields.site_details.mapType == 1) // Google Maps\r\n      this.loading = false;\r\n  }\r\n\r\n\r\n  closeModal() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n\r\n  getPositions() {\r\n    this.loading = true;\r\n    this.positions = [];\r\n    this.myLat = 0;\r\n    this.myLng = 0;\r\n    console.log('get positions');\r\n\r\n    let listings: Listing_LP[] = [];\r\n    if (!this.GlobalFields.site_details.showMapAllListings)\r\n      listings = GlobalFieldsListingPro.filteredListings;\r\n    else\r\n      listings = this.allListings;\r\n\r\n\r\n    let currentAddressCompute = 0;\r\n    console.log(listings)\r\n    listings.forEach(listing => {\r\n      if (listing.post_meta) {\r\n        this.loading = true;\r\n        if (listing.post_meta.latitude && listing.post_meta.latitude!='' && listing.post_meta.longitude && listing.post_meta.longitude!='') {\r\n          this.createPosition(listing, parseFloat(listing.post_meta.latitude), parseFloat(listing.post_meta.longitude));\r\n          currentAddressCompute += 1;\r\n          console.log(listing)\r\n          this.endOfComputeAddresses(listings.length, currentAddressCompute);\r\n        }\r\n        //Compute lat and long from gAddress\r\n        else if (listing.post_meta && listing.post_meta.gAddress) {\r\n          if (GlobalFields.site_details.mapType == 1) {\r\n            this.locationService.getMyLatLongFromGoogle(listing.post_meta.gAddress).subscribe((data: any) => {\r\n              if (data.results && data.results.length > 0 && data.results[0].geometry && data.results[0].geometry.location) {\r\n                this.createPosition(listing, data.results[0].geometry.location.lat, data.results[0].geometry.location.lng);\r\n                currentAddressCompute += 1;\r\n                console.log(listing)\r\n                this.endOfComputeAddresses(listings.length, currentAddressCompute);\r\n              }\r\n            });\r\n          } else { //Open Street Maps\r\n            this.locationService.getLatLongFromOpenMaps(listing.post_meta.gAddress).subscribe((data: any) => {\r\n              console.log(data);\r\n              if (data && data.length > 0) {\r\n                this.createPosition(listing, data[0].lat, data[0].lon);\r\n                currentAddressCompute += 1;\r\n                console.log(listing)\r\n                this.endOfComputeAddresses(listings.length, currentAddressCompute);\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          currentAddressCompute += 1;\r\n          console.log(listing)\r\n          this.endOfComputeAddresses(listings.length, currentAddressCompute);\r\n        }\r\n      }\r\n      else {\r\n          currentAddressCompute += 1;\r\n          console.log(listing)\r\n          this.endOfComputeAddresses(listings.length, currentAddressCompute);\r\n        }\r\n    });\r\n\r\n\r\n    //center of the map as mean lat and mean long of the results\r\n    this.myLat = this.getMeanLat();\r\n    this.myLng = this.getMeanLng();\r\n    if (this.myLat == 0 && this.myLat == 0 && GlobalFields.lat && GlobalFields.lat) {\r\n      this.myLat = GlobalFields.lat;\r\n      this.myLng = GlobalFields.lat;\r\n    }\r\n\r\n\r\n    if (!GlobalFieldsListingPro.filtersSearch.location)\r\n      this.currentZoom = 6;\r\n\r\n    console.log(this.myLat + ' ' + this.myLng);\r\n\r\n  }\r\n\r\n\r\n  endOfComputeAddresses(totals: number, current: number) {\r\n    console.log(totals)\r\n    console.log(current)\r\n    if (totals == current) {\r\n      console.log(this.positions)\r\n      this.iniMaps();\r\n    }\r\n\r\n  }\r\n\r\n  createPosition(listing: Listing_LP, lat, long) {\r\n\r\n    let imgUrl = '';\r\n    if (listing.category && listing.category.icon1)\r\n      imgUrl = listing.category.icon1;\r\n    else\r\n      imgUrl = '../../assets/imgs/placeholder_location.png';\r\n\r\n    this.positions.push({\r\n      lat: parseFloat(listing.post_meta.latitude),\r\n      lng: parseFloat(listing.post_meta.longitude),\r\n      label: listing.post_title,\r\n      draggable: false,\r\n      listing: listing,\r\n      iconUrl: this.getMarkerIcon(listing),\r\n      iconNameHtml: imgUrl,\r\n      iconImgUrlHtml: this.getListingImg(listing),\r\n      labelOptions: {\r\n        color: 'white',\r\n        fontFamily: 'roboto',\r\n        fontSize: '14px',\r\n        fontWeight: 'bold',\r\n        text: ' '\r\n      }\r\n    });\r\n  }\r\n\r\n  getPositionsOSMaps() {\r\n    this.loading = true;\r\n\r\n    console.log(this.currentZoom);\r\n    console.log(GlobalFieldsListingPro.filtersSearch.location);\r\n\r\n    this.osMap = new Map('map').setView([this.myLng, this.myLat], this.currentZoom);\r\n\r\n    tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\"  target=\"_blank\">OpenStreetMap</a> contributors'\r\n    }).addTo(this.osMap);\r\n\r\n\r\n    const customMarkerIcon = icon({\r\n      iconUrl: '../../assets/imgs/placeholder_location.png',\r\n      iconSize: [64, 64],\r\n      popupAnchor: [0, -20]\r\n    });\r\n\r\n\r\n    let makerToOpen;\r\n\r\n\r\n    let markers: any = new L.MarkerClusterGroup();\r\n\r\n\r\n    for (let i = 0; i < this.positions.length; i++) {\r\n      const pos: marker = this.positions[i];\r\n\r\n      const html = '<div class=\"imgMapPin\" style=\"background-image: url(' + pos.iconImgUrlHtml + ')\"><img class=\"iconMapPinWithImg\" src=\"' + pos.iconNameHtml + '\" style=\"background-color:#f1f1f1\"></div>';\r\n\r\n\r\n      //Custom icon\r\n      let defaultIcon = divIcon({\r\n        iconUrl: '../../../assets/imgs/maps/marker-icon.png',\r\n        shadowUrl: '../../../assets/imgs/maps/marker-shadow.png',\r\n        html: html\r\n\r\n      });\r\n\r\n      //Marker.prototype.options.icon = defaultIcon; //Set all the pins as equal\r\n\r\n      const m = marker([pos.lat, pos.lng], {icon: defaultIcon});\r\n\r\n      let address = '';\r\n      if (pos.listing.location && pos.listing.location.length > 0)\r\n        address = pos.listing.location[0].name;\r\n      else if (pos.listing.post_meta && pos.listing.post_meta.gAddress)\r\n        address = pos.listing.post_meta.gAddress;\r\n\r\n\r\n      m.bindPopup(`<b>${pos.label}</b><br><span class=\"listingLocation\">${address}</span>`, {autoClose: false})\r\n        .on('click', () => this.clickedMarker(pos))\r\n        .on('popupclose', () => this.showSelected = false);\r\n\r\n      console.log(pos.listing);\r\n      console.log(m);\r\n\r\n      // if(!this.GlobalFields.site_details.showMapAllListings)\r\n      //     m.addTo(this.osMap);\r\n      // else\r\n      markers.addLayer(m);\r\n\r\n      if (i == 0)\r\n        makerToOpen = m;\r\n\r\n\r\n    }\r\n\r\n    // if(this.GlobalFields.site_details.showMapAllListings)\r\n    this.osMap.addLayer(markers);\r\n\r\n\r\n    //this.osMap.setView([this.myLng, this.myLat], this.currentZoom);\r\n\r\n    this.osMap.panTo([this.myLat, this.myLng]);\r\n\r\n    //this.osMap.openPopup(makerToOpen.getPopup());\r\n\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      //  this.osMap.panTo((new L.LatLng(this.myLat, this.myLng)));\r\n    }, 1000);\r\n\r\n\r\n  }\r\n\r\n\r\n  getMeanLat(): number {\r\n    let lat = 0;\r\n    this.positions.forEach(mark => {\r\n      lat = lat + mark.lat;\r\n    });\r\n    if (this.positions.length > 0)\r\n      return lat / this.positions.length;\r\n    return lat;\r\n  }\r\n\r\n  getMeanLng(): number {\r\n    let lng = 0;\r\n    this.positions.forEach(mark => {\r\n      lng = lng + mark.lng;\r\n    });\r\n    if (this.positions.length > 0)\r\n      return lng / this.positions.length;\r\n    return lng;\r\n  }\r\n\r\n  clickedMarker(marker: marker) {\r\n\r\n    this.selectedListing = marker.listing;\r\n    this.showSelected = true;\r\n\r\n    console.log(marker.listing);\r\n  }\r\n\r\n\r\n  getMarkerIcon(listing: Listing_LP) {\r\n    let imgUrl = '';\r\n\r\n    if (listing.category && listing.category.icon1)\r\n      imgUrl = listing.category.icon1;\r\n    else\r\n      imgUrl = '../../assets/imgs/placeholder_location.png';\r\n\r\n    let res = {\r\n      url: imgUrl,\r\n      labelOrigin: {x: 22.5, y: 20},\r\n      scaledSize: this.getImgSize(imgUrl)\r\n    };\r\n\r\n    return res;\r\n\r\n  }\r\n\r\n  getImgSize(url: string): any {\r\n    let res: { height: number; width: number } = {height: 40, width: 40};\r\n    let img = new Image();\r\n    img.src = url;\r\n    if (Number(img.height) >= 40 && Number(img.width) >= 40) {\r\n      if (Number(img.height) > Number(img.width))\r\n        res = {height: 40, width: 40 * (Number(img.width) / Number(img.height))};\r\n      else if (Number(img.width) > Number(img.height))\r\n        res = {width: 40, height: 40 * (Number(img.height) / Number(img.width))};\r\n    } else {\r\n      res = {width: Number(img.width), height: Number(img.height)};\r\n    }\r\n    if (res.height == 0 || res.width == 0)\r\n      res = {height: 40, width: 40};\r\n    return res;\r\n  }\r\n\r\n  getImgWidth(url: string): any {\r\n    var img = new Image();\r\n    img.src = url;\r\n    if (Number(img.height) < 260) {\r\n      return 'auto';\r\n    } else {\r\n      return '100%';\r\n    }\r\n\r\n  }\r\n\r\n  async openModalListing() {\r\n\r\n    const modal = await this.modalCtrl.create({\r\n      component: ListingPage_LP,\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openFilter(listing: Listing) {\r\n\r\n    GlobalFieldsListingPro.selectedListing = listing;\r\n\r\n    const filterModal = await this.modalCtrl.create({\r\n      component: FilterModal_LP,\r\n    });\r\n    return await filterModal.present();\r\n\r\n  }\r\n\r\n\r\n  goToMyLocation() {\r\n    if (this.GlobalFields.lat && this.GlobalFields.long) {\r\n      this.loading = true;\r\n      this.myLat = this.GlobalFields.lat;\r\n      this.myLng = this.GlobalFields.long;\r\n      this.currentZoom = 12;\r\n      this.loading = false;\r\n      console.log('goToMyLocation');\r\n    }\r\n  }\r\n\r\n  centerChanged(event: any) {\r\n    //console.log(event);\r\n    /*  this.myLat = event.myLat;\r\n      this.myLng = event.myLng;\r\n      */\r\n  }\r\n\r\n  /*\r\n  loadData() {\r\n    this.loadingMoreData = true;\r\n    GlobalFieldsMyListing.filtersSearch.currentPage++;\r\n    if (GlobalFieldsMyListing.filtersSearch.location) { //address\r\n\r\n      //Convert address to Lat and Lng\r\n      if (GlobalFields.site_details.mapType == 1) {\r\n        this.locationService.getMyLatLongFromGoogle(GlobalFieldsMyListing.filtersSearch.location).subscribe((data: any) => {\r\n          if (data.results && data.results.length > 0 && data.results[0].geometry && data.results[0].geometry.location) {\r\n            GlobalFieldsMyListing.filtersSearch.lat = data.results[0].geometry.location.lat;\r\n            GlobalFieldsMyListing.filtersSearch.lng = data.results[0].geometry.location.lng;\r\n          }\r\n        });\r\n      } else { //Open Street Maps\r\n        this.locationService.getLatLongFromOpenMaps(GlobalFieldsMyListing.filtersSearch.location).subscribe((data: any) => {\r\n          console.log(data);\r\n          if (data && data.length > 0) {\r\n            GlobalFieldsMyListing.filtersSearch.lat = data[0].lat;\r\n            GlobalFieldsMyListing.filtersSearch.lng = data[0].lon;\r\n          }\r\n        });\r\n      }\r\n\r\n      this.callServiceToGetFilteredListings();\r\n    } else { //no address\r\n      this.callServiceToGetFilteredListings();\r\n    }\r\n  }\r\n\r\n\r\n  callServiceToGetFilteredListings() {\r\n    this.mlservice.getFilteredListings()\r\n      .subscribe((data: any) => {\r\n        if (GlobalFieldsMyListing.filtersSearch.currentPage == 1) {\r\n          GlobalFieldsMyListing.filteredListings = [];\r\n          GlobalFieldsMyListing.filtersSearch.noMorePage = false;\r\n        }\r\n        GlobalFieldsMyListing.filteredListings = GlobalFieldsMyListing.filteredListings.concat(GlobalFieldsMyListing.fixWrongImgCoverField(data));\r\n        console.log(data);\r\n        this.getPositions();\r\n        this.loadingMoreData = false;\r\n\r\n        if (GlobalFieldsMyListing.filteredListings.length < 10 || data.length == 0)\r\n          GlobalFieldsMyListing.filtersSearch.noMorePage = true;\r\n\r\n      });\r\n  }\r\n*/\r\n  getAllListings() {\r\n    this.lpservice.getAllListings()\r\n      .subscribe((res: SearchResult_LP) => {\r\n        if (res.success) {\r\n          this.allListings = res.data;\r\n          this.getPositions();\r\n          this.iniMaps();\r\n        }\r\n      });\r\n  }\r\n\r\n  getListingImg(listing: Listing_LP) {\r\n    let image = '';\r\n    if (listing.gallery && listing.gallery.cover_image)\r\n      image = listing.gallery.cover_image;\r\n    else image = GlobalFields.site_details.placeholderImgUrl;\r\n    return image;\r\n  }\r\n\r\n\r\n}\r\n","export default \".oneColumnListImg {\\n  width: 100%;\\n  height: calc(100% - 70px);\\n  background-position: center !important;\\n  background-size: cover !important;\\n  border-radius: 5px;\\n}\\n\\n.btnToolSearch {\\n  font-size: 20px;\\n  width: 100%;\\n  line-height: 2;\\n  background-color: #ffffff;\\n  padding: 5px;\\n  text-align: center;\\n  text-transform: uppercase !important;\\n  color: #5294ff !important;\\n  padding-top: 6px !important;\\n  padding-bottom: 6px !important;\\n  font-weight: 800 !important;\\n  background-color: white !important;\\n  box-shadow: rgba(0, 0, 0, 0.14) 0px 1px 1px 1px !important;\\n  cursor: pointer !important;\\n  border-radius: 80px !important;\\n  border-width: initial !important;\\n  border-style: none !important;\\n  border-color: initial !important;\\n  -o-border-image: initial !important;\\n     border-image: initial !important;\\n}\\n\\n.btnOrderSearch {\\n  width: 100%;\\n  line-height: 2;\\n  background-color: transparent;\\n  padding: 10px;\\n  font-size: 14px !important;\\n  letter-spacing: normal !important;\\n  color: #484848 !important;\\n  font-weight: 500;\\n}\\n\\n.btnOrderSearch[dir=ltr] {\\n  text-align: right;\\n}\\n\\n.btnOrderSearch[dir=rtl] {\\n  text-align: left;\\n}\\n\\n.btnToolSearch span {\\n  font-size: small;\\n}\\n\\n.topFixed {\\n  width: 100%;\\n  bottom: 100px;\\n  position: fixed;\\n  z-index: 99;\\n}\\n\\n.noResults {\\n  font-size: small;\\n  padding: 15px;\\n}\\n\\n.filterDefaultBtnFiltersContainer {\\n  background: transparent;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  border-radius: 50px !important;\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.33);\\n}\\n\\n.tripBtnFiltersContainerAndroid {\\n  bottom: 55px !important;\\n}\\n\\n/*\\n.tripBtnFiltersContainer{\\n  background: white;\\n  position: fixed;\\n  bottom: 75px;\\n  z-index: 99999;\\n  margin: auto;\\n  left: 50%;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  min-width: 170px;\\n  height: 35px;\\n  -webkit-transform: translate(-50%, -50%);\\n  transform: translate(-50%, -50%);\\n  transition: box-shadow 200ms ease-in !important;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  width: -moz-fit-content;\\n  width: -webkit-fit-content;\\n  width: fit-content;\\n  border-radius: 50px;\\n  font-size: 10pt;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.29);\\n  border: solid 1px #f3f3f3;\\n} */\\n\\n.tripBtnFiltersContainer {\\n  background: white;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  min-width: 200px;\\n  height: 40px !important;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  width: -moz-fit-content;\\n  width: -webkit-fit-content;\\n  width: fit-content;\\n  border-radius: 50px;\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.33);\\n  border: solid 1px #f3f3f3;\\n}\\n\\n.tripBtnFiltersContainer button {\\n  background: transparent;\\n  padding: 0 5px;\\n  width: 50%;\\n  height: 45px !important;\\n  text-overflow: ellipsis;\\n  font-size: 13pt;\\n}\\n\\n.tripBtnFiltersContainer button:focus {\\n  background-color: #d8d8d8;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvTGlzdGluZ1Byby9zZWFyY2hQYWdlL0M6XFxqb2tlc29uam9lbFxcam9rZXNvbmpvZWwvc3JjXFxhcHBcXExpc3RpbmdQcm9cXHNlYXJjaFBhZ2VcXHNlYXJjaFBhZ2VfTFAuc2NzcyIsInNyYy9hcHAvTGlzdGluZ1Byby9zZWFyY2hQYWdlL3NlYXJjaFBhZ2VfTFAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLFdBQUE7RUFHQSx5QkFBQTtFQUNBLHNDQUFBO0VBSUEsaUNBQUE7RUFDQSxrQkFBQTtBQ0RGOztBREtBO0VBQ0UsZUFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQ0FBQTtFQUNBLHlCQUFBO0VBQ0EsMkJBQUE7RUFDQSw4QkFBQTtFQUNBLDJCQUFBO0VBQ0Esa0NBQUE7RUFDQSwwREFBQTtFQUNBLDBCQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQ0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxtQ0FBQTtLQUFBLGdDQUFBO0FDRkY7O0FET0E7RUFDRSxXQUFBO0VBQ0EsY0FBQTtFQUNBLDZCQUFBO0VBQ0EsYUFBQTtFQUNBLDBCQUFBO0VBQ0EsaUNBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FDSkY7O0FET0E7RUFDRSxpQkFBQTtBQ0pGOztBRE9BO0VBQ0UsZ0JBQUE7QUNKRjs7QURRQTtFQUNFLGdCQUFBO0FDTEY7O0FEUUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FDTEY7O0FEUUE7RUFDRSxnQkFBQTtFQUNBLGFBQUE7QUNMRjs7QURTQTtFQUNFLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsOEJBQUE7RUFDQSwwQ0FBQTtBQ05GOztBRFdBO0VBQ0UsdUJBQUE7QUNSRjs7QURVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FBQTs7QUEyQkE7RUFDRSxpQkFBQTtFQUNBLDBCQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSx1QkFBQTtFQUNBLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLDBDQUFBO0VBQ0EseUJBQUE7QUNQRjs7QURVQTtFQUNFLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7RUFDQSx1QkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQ1BGOztBRFNBO0VBQ0UseUJBQUE7QUNORiIsImZpbGUiOiJzcmMvYXBwL0xpc3RpbmdQcm8vc2VhcmNoUGFnZS9zZWFyY2hQYWdlX0xQLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbi5vbmVDb2x1bW5MaXN0SW1ne1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogLXdlYmtpdC1jYWxjKDEwMCUgLSA3MHB4KTtcclxuICBoZWlnaHQ6IC1tb3otY2FsYygxMDAlIC0gNzBweCk7XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA3MHB4KTtcclxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAtd2Via2l0LWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxuICAtbW96LWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxuICAtby1iYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuXHJcbi5idG5Ub29sU2VhcmNoe1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBsaW5lLWhlaWdodDogMjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZSAhaW1wb3J0YW50O1xyXG4gIGNvbG9yOiAjNTI5NGZmICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZy10b3A6IDZweCAhaW1wb3J0YW50O1xyXG4gIHBhZGRpbmctYm90dG9tOiA2cHggIWltcG9ydGFudDtcclxuICBmb250LXdlaWdodDogODAwICFpbXBvcnRhbnQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpICFpbXBvcnRhbnQ7XHJcbiAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjE0KSAwcHggMXB4IDFweCAxcHggIWltcG9ydGFudDtcclxuICBjdXJzb3I6IHBvaW50ZXIgIWltcG9ydGFudDtcclxuICBib3JkZXItcmFkaXVzOiA4MHB4ICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLXdpZHRoOiBpbml0aWFsICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLXN0eWxlOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLWNvbG9yOiBpbml0aWFsICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLWltYWdlOiBpbml0aWFsICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcblxyXG5cclxuLmJ0bk9yZGVyU2VhcmNoe1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGxpbmUtaGVpZ2h0OiAyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgZm9udC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbCAhaW1wb3J0YW50O1xyXG4gIGNvbG9yOiByZ2IoNzIsIDcyLCA3MikgIWltcG9ydGFudDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4uYnRuT3JkZXJTZWFyY2hbZGlyPVwibHRyXCJde1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG59XHJcblxyXG4uYnRuT3JkZXJTZWFyY2hbZGlyPVwicnRsXCJde1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuXHJcblxyXG4uYnRuVG9vbFNlYXJjaCBzcGFue1xyXG4gIGZvbnQtc2l6ZTogc21hbGw7XHJcbn1cclxuXHJcbi50b3BGaXhlZHtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3R0b206IDEwMHB4O1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB6LWluZGV4OiA5OTtcclxufVxyXG5cclxuLm5vUmVzdWx0c3tcclxuICBmb250LXNpemU6IHNtYWxsO1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbn1cclxuXHJcblxyXG4uZmlsdGVyRGVmYXVsdEJ0bkZpbHRlcnNDb250YWluZXJ7XHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwcHggIWltcG9ydGFudDtcclxuICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zMyk7XHJcbn1cclxuXHJcblxyXG5cclxuLnRyaXBCdG5GaWx0ZXJzQ29udGFpbmVyQW5kcm9pZHtcclxuICBib3R0b206IDU1cHggIWltcG9ydGFudDtcclxufVxyXG4vKlxyXG4udHJpcEJ0bkZpbHRlcnNDb250YWluZXJ7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGJvdHRvbTogNzVweDtcclxuICB6LWluZGV4OiA5OTk5OTtcclxuICBtYXJnaW46IGF1dG87XHJcbiAgbGVmdDogNTAlO1xyXG4gIHdpZHRoOiAtd2Via2l0LWZpdC1jb250ZW50O1xyXG4gIHdpZHRoOiAtbW96LWZpdC1jb250ZW50O1xyXG4gIHdpZHRoOiBmaXQtY29udGVudDtcclxuICBtaW4td2lkdGg6IDE3MHB4O1xyXG4gIGhlaWdodDogMzVweDtcclxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMjAwbXMgZWFzZS1pbiAhaW1wb3J0YW50O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB3aWR0aDogLW1vei1maXQtY29udGVudDtcclxuICB3aWR0aDogLXdlYmtpdC1maXQtY29udGVudDtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuICBmb250LXNpemU6IDEwcHQ7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMjkpO1xyXG4gIGJvcmRlcjogc29saWQgMXB4ICNmM2YzZjM7XHJcbn0gKi9cclxuLnRyaXBCdG5GaWx0ZXJzQ29udGFpbmVye1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIHdpZHRoOiAtd2Via2l0LWZpdC1jb250ZW50O1xyXG4gIHdpZHRoOiAtbW96LWZpdC1jb250ZW50O1xyXG4gIHdpZHRoOiBmaXQtY29udGVudDtcclxuICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gIGhlaWdodDogNDBweCAhaW1wb3J0YW50O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB3aWR0aDogLW1vei1maXQtY29udGVudDtcclxuICB3aWR0aDogLXdlYmtpdC1maXQtY29udGVudDtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zMyk7XHJcbiAgYm9yZGVyOiBzb2xpZCAxcHggI2YzZjNmMztcclxufVxyXG5cclxuLnRyaXBCdG5GaWx0ZXJzQ29udGFpbmVyIGJ1dHRvbntcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICBwYWRkaW5nOiAwIDVweDtcclxuICB3aWR0aDogNTAlO1xyXG4gIGhlaWdodDogNDVweCAhaW1wb3J0YW50O1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIGZvbnQtc2l6ZTogMTNwdDtcclxufVxyXG4udHJpcEJ0bkZpbHRlcnNDb250YWluZXIgYnV0dG9uOmZvY3Vze1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNkOGQ4ZDg7XHJcbn1cclxuIiwiLm9uZUNvbHVtbkxpc3RJbWcge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAtd2Via2l0LWNhbGMoMTAwJSAtIDcwcHgpO1xuICBoZWlnaHQ6IC1tb3otY2FsYygxMDAlIC0gNzBweCk7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gNzBweCk7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciAhaW1wb3J0YW50O1xuICAtd2Via2l0LWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG4gIC1vLWJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5idG5Ub29sU2VhcmNoIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgbGluZS1oZWlnaHQ6IDI7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIHBhZGRpbmc6IDVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjNTI5NGZmICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctdG9wOiA2cHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDZweCAhaW1wb3J0YW50O1xuICBmb250LXdlaWdodDogODAwICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4xNCkgMHB4IDFweCAxcHggMXB4ICFpbXBvcnRhbnQ7XG4gIGN1cnNvcjogcG9pbnRlciAhaW1wb3J0YW50O1xuICBib3JkZXItcmFkaXVzOiA4MHB4ICFpbXBvcnRhbnQ7XG4gIGJvcmRlci13aWR0aDogaW5pdGlhbCAhaW1wb3J0YW50O1xuICBib3JkZXItc3R5bGU6IG5vbmUgIWltcG9ydGFudDtcbiAgYm9yZGVyLWNvbG9yOiBpbml0aWFsICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1pbWFnZTogaW5pdGlhbCAhaW1wb3J0YW50O1xufVxuXG4uYnRuT3JkZXJTZWFyY2gge1xuICB3aWR0aDogMTAwJTtcbiAgbGluZS1oZWlnaHQ6IDI7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbCAhaW1wb3J0YW50O1xuICBjb2xvcjogIzQ4NDg0OCAhaW1wb3J0YW50O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uYnRuT3JkZXJTZWFyY2hbZGlyPWx0cl0ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuLmJ0bk9yZGVyU2VhcmNoW2Rpcj1ydGxdIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLmJ0blRvb2xTZWFyY2ggc3BhbiB7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbi50b3BGaXhlZCB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3R0b206IDEwMHB4O1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHotaW5kZXg6IDk5O1xufVxuXG4ubm9SZXN1bHRzIHtcbiAgZm9udC1zaXplOiBzbWFsbDtcbiAgcGFkZGluZzogMTVweDtcbn1cblxuLmZpbHRlckRlZmF1bHRCdG5GaWx0ZXJzQ29udGFpbmVyIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBib3JkZXItcmFkaXVzOiA1MHB4ICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjMzKTtcbn1cblxuLnRyaXBCdG5GaWx0ZXJzQ29udGFpbmVyQW5kcm9pZCB7XG4gIGJvdHRvbTogNTVweCAhaW1wb3J0YW50O1xufVxuXG4vKlxuLnRyaXBCdG5GaWx0ZXJzQ29udGFpbmVye1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDc1cHg7XG4gIHotaW5kZXg6IDk5OTk5O1xuICBtYXJnaW46IGF1dG87XG4gIGxlZnQ6IDUwJTtcbiAgd2lkdGg6IC13ZWJraXQtZml0LWNvbnRlbnQ7XG4gIHdpZHRoOiAtbW96LWZpdC1jb250ZW50O1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gIG1pbi13aWR0aDogMTcwcHg7XG4gIGhlaWdodDogMzVweDtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMjAwbXMgZWFzZS1pbiAhaW1wb3J0YW50O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2lkdGg6IC1tb3otZml0LWNvbnRlbnQ7XG4gIHdpZHRoOiAtd2Via2l0LWZpdC1jb250ZW50O1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIGZvbnQtc2l6ZTogMTBwdDtcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMjkpO1xuICBib3JkZXI6IHNvbGlkIDFweCAjZjNmM2YzO1xufSAqL1xuLnRyaXBCdG5GaWx0ZXJzQ29udGFpbmVyIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIHdpZHRoOiAtd2Via2l0LWZpdC1jb250ZW50O1xuICB3aWR0aDogLW1vei1maXQtY29udGVudDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBtaW4td2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDQwcHggIWltcG9ydGFudDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHdpZHRoOiAtbW96LWZpdC1jb250ZW50O1xuICB3aWR0aDogLXdlYmtpdC1maXQtY29udGVudDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zMyk7XG4gIGJvcmRlcjogc29saWQgMXB4ICNmM2YzZjM7XG59XG5cbi50cmlwQnRuRmlsdGVyc0NvbnRhaW5lciBidXR0b24ge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgcGFkZGluZzogMCA1cHg7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogNDVweCAhaW1wb3J0YW50O1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgZm9udC1zaXplOiAxM3B0O1xufVxuXG4udHJpcEJ0bkZpbHRlcnNDb250YWluZXIgYnV0dG9uOmZvY3VzIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q4ZDhkODtcbn0iXX0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {AlertController, IonInfiniteScroll, ModalController, Platform} from '@ionic/angular';\r\nimport {Listing} from '../../entities/myListing/listing';\r\nimport {Filter} from '../../entities/filter';\r\nimport {GlobalFields} from '../../GlobalFields';\r\nimport {FilterModal_LP} from './filterModal/filterModal_LP';\r\nimport {Service} from '../../services/Service';\r\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\r\nimport {MapModal_LP} from './mapModal/mapModal_LP';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {LocationService} from '../../services/LocationService';\r\nimport {MyListingService} from '../../services/MyListingService';\r\nimport {ListingPage_LP} from '../listingPage/listing-page_LP.component';\r\nimport {GlobalFieldsListingPro} from '../../GlobalFieldsListingPro';\r\nimport {ListingProService} from '../../services/ListingProService';\r\nimport {Listing_LP, SearchResult_LP} from '../../entities/listingPro/Listing_LP';\r\n\r\n@Component({\r\n  selector: 'page-search',\r\n  templateUrl: 'searchPage_LP.html',\r\n  styleUrls: ['searchPage_LP.scss']\r\n\r\n})\r\nexport class SearchPage_LP implements OnInit {\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  GlobalFields = GlobalFields;\r\n  GlobalFieldsListingPro = GlobalFieldsListingPro;\r\n\r\n  filters: Filter;\r\n  loadingMoreData = false;\r\n\r\n  oldScollPostion = 0;\r\n  headerClass = '';\r\n\r\n  isAndroid: boolean;\r\n\r\n  customPopoverOptions: any = {\r\n    header: 'Seleziona l\\'ordine',\r\n  };\r\n\r\n  constructor(public service: Service, public lpservice: ListingProService, public mlservice: MyListingService, public locationService: LocationService, public modalCtrl: ModalController, public statusBar: StatusBar, public platform: Platform,\r\n              public translate: TranslateService, public alertController: AlertController) {\r\n    //If not coming from some \"search this\" feature like near me or categories tab it initializes the search\r\n    if (!GlobalFieldsListingPro.basicSearch && !GlobalFieldsListingPro.filtersSearch.location && !GlobalFieldsListingPro.filtersSearch.categories) {\r\n      this.initialCall(true);\r\n    }\r\n    GlobalFieldsListingPro.basicSearch = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.platform.is('ios'))\r\n      this.isAndroid = false;\r\n    else\r\n      this.isAndroid = true;\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.service.setWhiteBlackBackgroundStatusBar();\r\n  }\r\n\r\n\r\n  async openModalListing() {\r\n\r\n    const modal = await this.modalCtrl.create({\r\n      component: ListingPage_LP,\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  async openFilter(listing?: Listing_LP) {\r\n\r\n    GlobalFieldsListingPro.selectedListing = listing;\r\n\r\n    const filterModal = await this.modalCtrl.create({\r\n      component: FilterModal_LP,\r\n    });\r\n    return await filterModal.present();\r\n\r\n  }\r\n\r\n  async openMap(listing?: Listing_LP) {\r\n\r\n    GlobalFieldsListingPro.selectedListing = listing;\r\n\r\n    const mapModal = await this.modalCtrl.create({\r\n      component: MapModal_LP,\r\n    });\r\n    return await mapModal.present();\r\n\r\n  }\r\n\r\n  loadData() {\r\n    this.loadingMoreData = true;\r\n    GlobalFieldsListingPro.filtersSearch.currentPage++;\r\n    if (GlobalFieldsListingPro.filtersSearch.location) { //address\r\n\r\n      //Convert address to Lat and Lng\r\n      if (GlobalFields.site_details.mapType == 1) {\r\n        this.locationService.getMyLatLongFromGoogle(GlobalFieldsListingPro.filtersSearch.location).subscribe((data: any) => {\r\n          if (data.results && data.results.length > 0 && data.results[0].geometry && data.results[0].geometry.location) {\r\n            GlobalFieldsListingPro.filtersSearch.lat = data.results[0].geometry.location.lat;\r\n            GlobalFieldsListingPro.filtersSearch.lng = data.results[0].geometry.location.lng;\r\n          }\r\n        });\r\n      } else { //Open Street Maps\r\n        this.locationService.getLatLongFromOpenMaps(GlobalFieldsListingPro.filtersSearch.location).subscribe((data: any) => {\r\n          console.log(data);\r\n          if (data && data.length > 0) {\r\n            GlobalFieldsListingPro.filtersSearch.lat = data[0].lat;\r\n            GlobalFieldsListingPro.filtersSearch.lng = data[0].lon;\r\n          }\r\n        });\r\n      }\r\n\r\n      this.callServiceToGetFilteredListings();\r\n    } else { //no address\r\n      this.callServiceToGetFilteredListings();\r\n    }\r\n  }\r\n\r\n  toggleInfiniteScroll() {\r\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\r\n  }\r\n\r\n\r\n  initialCall(reloadOrder) {\r\n    this.GlobalFieldsListingPro.filteredListings = undefined;\r\n    const setLocation = GlobalFieldsListingPro.filtersSearch.location;\r\n\r\n    GlobalFieldsListingPro.clearFilters();\r\n    if (setLocation)\r\n      GlobalFieldsListingPro.filtersSearch.location = setLocation;\r\n\r\n\r\n   //TODO: Set the order to a default one:\r\n    // GlobalFieldsListingPro.filtersSearch.order = GlobalFieldsMyListing.selectedTypeDetail.case27_listing_type_search_page.order.options[0].key;\r\n\r\n    GlobalFieldsListingPro.getFilteredListingFirstTime(this.lpservice, this.locationService, true);\r\n\r\n  }\r\n\r\n\r\n  callServiceToGetFilteredListings() {\r\n    this.lpservice.getFilteredListings()\r\n      .subscribe((res: SearchResult_LP) => {\r\n        GlobalFieldsListingPro.filtersSearch.listingsCount = res.listingsCount;\r\n\r\n        if (GlobalFieldsListingPro.filtersSearch.currentPage == 0) {\r\n          GlobalFieldsListingPro.filteredListings = [];\r\n          //GlobalFieldsListingPro.filtersSearch.noMorePage = false;\r\n        }\r\n        GlobalFieldsListingPro.filteredListings = GlobalFieldsListingPro.filteredListings.concat(res.data);\r\n        console.log(res.data);\r\n        this.loadingMoreData = false;\r\n\r\n        /*if (GlobalFieldsMyListing.filteredListings.length < 10 || res.data.length < 10)\r\n          GlobalFieldsMyListing.filtersSearch.noMorePage = true;\r\n        */\r\n      });\r\n  }\r\n\r\n\r\n\r\n  //This function just check if element is fully in vertical viewport or not\r\n  isElementInViewPort() {\r\n    let el = document.getElementById('check-point');\r\n    if (el) {\r\n      const rect = el.getBoundingClientRect();\r\n      return rect.bottom <= window.innerHeight;\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  clearFilters() {\r\n    GlobalFieldsListingPro.clearFilters();\r\n    this.initialCall(true);\r\n  }\r\n\r\n}\r\n","import {CommonModule} from '@angular/common';\r\nimport {IonicModule} from '@ionic/angular';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {RouterModule} from '@angular/router';\r\n\r\nimport {NgModule} from '@angular/core';\r\nimport {SearchPage_LP} from './searchPage_LP';\r\nimport {SharedModule} from '../../shared.module';\r\nimport {MapModal_LP} from './mapModal/mapModal_LP';\r\nimport {UtilitiesModule} from '../../Shared/utilities/utilities.module';\r\nimport {SharedModule_LP} from '../shared_LP.module';\r\nimport {FilterModal_LP} from './filterModal/filterModal_LP';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: SearchPage_LP\r\n      }\r\n    ]),\r\n    UtilitiesModule,\r\n    SharedModule_LP,\r\n\r\n  ],\r\n  declarations: [SearchPage_LP, MapModal_LP, FilterModal_LP],\r\n  exports: [MapModal_LP, UtilitiesModule]\r\n})\r\nexport class SearchPage_LPModule {\r\n}\r\n"]}