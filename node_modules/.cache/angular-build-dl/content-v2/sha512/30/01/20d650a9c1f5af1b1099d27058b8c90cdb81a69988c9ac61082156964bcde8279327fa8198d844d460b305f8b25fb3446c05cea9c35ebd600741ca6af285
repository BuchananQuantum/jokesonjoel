{"version":3,"sources":["./src/app/MyListing/messagesPage/chatPage/chatPage.html","./src/app/MyListing/messagesPage/messagesPage.html","./src/app/MyListing/messagesPage/chatPage/chatPage.scss","./src/app/MyListing/messagesPage/chatPage/chatPage.ts","./src/app/MyListing/messagesPage/messagesPage.module.ts","./src/app/MyListing/messagesPage/messagesPage.scss","./src/app/MyListing/messagesPage/messagesPage.ts"],"names":[],"mappings":"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","file":"MyListing-messagesPage-messagesPage-module-es2015.js","sourcesContent":["export default \"\\r\\n<ion-header translucent=\\\"true\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n    <ion-toolbar dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button defaultHref=\\\"tabs/messages\\\" (click)=\\\"GlobalFields.senderMsgSelected = undefined\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title *ngIf=\\\"GlobalFields.senderMsgSelected\\\" style=\\\"font-size: 9pt;\\\"><img class=\\\"avatarImg\\\"  src=\\\"{{GlobalFields.senderMsgSelected.avatar}}\\\"> {{GlobalFields.senderMsgSelected.name}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content *ngIf=\\\"loading\\\" style=\\\" position: fixed; background-color: rgb(0, 0, 0); z-index: 999999; top: 43px !important;\\\">\\r\\n  <div style=\\\"padding: 15px\\\">\\r\\n    <span *ngFor=\\\"let el of [1,2,3,4,5,6]\\\">\\r\\n       <div style=\\\"width: 100%; margin-bottom: 20px; height: 30px; position: relative;\\\">\\r\\n        <ion-skeleton-text style=\\\"width: 40%; position: absolute; left: 0\\\" animated></ion-skeleton-text>\\r\\n      </div>\\r\\n      <div style=\\\"width: 100%; margin-bottom: 20px; height: 30px; position: relative;\\\">\\r\\n        <ion-skeleton-text style=\\\"width: 40%; position: absolute; right: 0\\\" animated></ion-skeleton-text>\\r\\n      </div>\\r\\n    </span>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-content #scrollElement style=\\\"margin-top: 20px; transform: rotate(180deg);\\\"  *ngIf=\\\"GlobalFields.msgsSelected\\\" class=\\\"cards-bg social-cards\\\" [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n    <div id=\\\"msgContainer\\\" style=\\\"transform: rotate(180deg);\\\" *ngIf=\\\"GlobalFields.msgsSelected && GlobalFields.msgsSelected.ml && GlobalFields.senderMsgSelected\\\" >\\r\\n\\r\\n        <ion-row *ngFor=\\\"let key of getKeysOfObj(GlobalFields.msgsSelected.ml)\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n            <ion-col size=\\\"12\\\" style=\\\"padding: 15px; max-width: calc(100% - 60px)\\\"  *ngIf=\\\"GlobalFields.msgsSelected.ml[key]\\\">\\r\\n\\r\\n                <span class=\\\"msgDate\\\" [class.msgMineOther]=\\\"GlobalFields.msgsSelected.ml[key].sender == GlobalFields.senderMsgSelected.id\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{getGoodStringDate(GlobalFields.msgsSelected.ml[key].utime * 1000)}}</span>\\r\\n                <p class=\\\"msgMine\\\" *ngIf=\\\"GlobalFields.msgsSelected.ml[key].sender != GlobalFields.senderMsgSelected.id\\\"  [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{GlobalFields.msgsSelected.ml[key].message}}</p>\\r\\n                <p class=\\\"msgOther\\\" *ngIf=\\\"GlobalFields.msgsSelected.ml[key].sender == GlobalFields.senderMsgSelected.id\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{GlobalFields.msgsSelected.ml[key].message}}</p>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <p class=\\\"msgMine\\\" *ngIf=\\\"loadingMsg\\\"  [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"fas fa-spinner fa-spin\\\"></i></p>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n  <div style=\\\"transform: rotate(180deg); position: fixed; top: -1px; padding: 10px; padding-bottom:20px; width: 100%; background-color: white\\\">\\r\\n        <textarea id=\\\"myInput\\\" #myInput\\r\\n                  class=\\\"textAreaSend\\\"\\r\\n                  (keyup)=\\\"resize()\\\"\\r\\n                  placeholder=\\\"{{'YOUR_MESSAGE' | translate}}\\\"\\r\\n                  [(ngModel)]=\\\"msgToSend\\\"\\r\\n                  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"\\r\\n        ></textarea>\\r\\n    <button class=\\\"btnSend\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\" (click)=\\\"sendMsg()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"far fa-paper-plane\\\"></i></button>\\r\\n  </div>\\r\\n\\r\\n  <!--<<div style=\\\"transform: rotate(180deg); position: fixed; box-shadow: 0 -1px 2px rgba(0,0,0,.1); top: -1px; padding: 10px; padding-bottom:20px; width: 100%; background-color: white\\\">\\r\\n     <!-row  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n         <ion-col size=\\\"10\\\">\\r\\n             <ion-textarea style=\\\"border: solid 1px #e3e3e3; padding: 5px; border-radius: 5px;\\\"\\r\\n                     id=\\\"myInput\\\" #myInput\\r\\n                     [autoGrow]=\\\"true\\\"\\r\\n                     [autofocus]=\\\"true\\\"\\r\\n                     placeholder=\\\"{{'YOUR_MESSAGE' | translate}}\\\"\\r\\n                     [(ngModel)]=\\\"msgToSend\\\"\\r\\n                     dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"\\r\\n             >\\r\\n             </ion-textarea>\\r\\n         </ion-col>\\r\\n         <ion-col size=\\\"2\\\">\\r\\n             <button class=\\\"btnSend\\\" [disabled]=\\\"!this.msgToSend\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\" (click)=\\\"sendMsg()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"far fa-paper-plane\\\"></i></button>\\r\\n         </ion-col>\\r\\n     </ion-row>\\r\\n\\r\\n    </div>-->\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\";","export default \"<ion-header translucent=\\\"true\\\" mode=\\\"{{GlobalFields.mode}}\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n  <ion-toolbar>\\r\\n    <!-- If Side menu is used-->\\r\\n    <ion-buttons *ngIf=\\\"GlobalFields.site_details.navigationType==2\\\" slot=\\\"start\\\">\\r\\n      <ion-menu-button style=\\\"color: #3b3c3c\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{'MESSAGES' | translate}}</ion-title>\\r\\n    <ion-buttons *ngIf=\\\"GlobalFields.isLoggedIn\\\" style=\\\"padding-right: 10px;\\\" slot=\\\"end\\\">\\r\\n      <button *ngIf=\\\"!search\\\" class=\\\"btn-search-header\\\" (click)=\\\"search=true\\\">\\r\\n        <i class=\\\"fas fa-edit\\\"></i>\\r\\n      </button>\\r\\n      <button *ngIf=\\\"search\\\" class=\\\"btn-search-header\\\" style=\\\"padding: 8px 10px; color: red\\\" (click)=\\\"search=false; resultSearchListings=undefined\\\">\\r\\n        <i class=\\\"fas fa-times\\\"></i>\\r\\n      </button>    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<!-- Login -->\\r\\n<ion-content *ngIf=\\\"!GlobalFields.isLoggedIn\\\" class=\\\"cards-bg social-cards\\\" style=\\\"margin-top: 20px; padding: 15px\\\"\\r\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n  <!-- [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  -->\\r\\n\\r\\n  <ion-header collapse=\\\"condense\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\r\\n      <ion-title size=\\\"large\\\">{{'MESSAGES' | translate}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <div class=\\\"pageSection\\\" style=\\\"margin: 15px; margin-top: 20px;\\\">\\r\\n    <loginComponent (loginComplete)=\\\"initMsg()\\\"></loginComponent>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<!-- Msg list-->\\r\\n<ion-content *ngIf=\\\"GlobalFields.isLoggedIn\\\" class=\\\"cards-bg social-cards\\\" style=\\\"margin-top: 10px;\\\"\\r\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\r\\n\\r\\n  <ion-header collapse=\\\"condense\\\">\\r\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\r\\n      <ion-title size=\\\"large\\\">{{'MESSAGES' | translate}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n    <ion-toolbar *ngIf=\\\"search\\\">\\r\\n      <ion-searchbar #searchInput placeholder=\\\"{{'START_A_NEW_CHAT' | translate}}\\\" animated showCancelButton=\\\"focus\\\"\\r\\n                     (ionInput)=\\\"searchByName($event);\\\" (ionClear)=\\\"resultSearchListings=[]; search=false\\\"\\r\\n                     (keyup.enter)=\\\"doTheSearch(); search=true\\\"\\r\\n                     (keypress)=\\\"doTheSearch($event); search=true\\\"></ion-searchbar>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n  <!-- Only for android-->\\r\\n  <span class=\\\"hide-ios\\\" *ngIf=\\\"search\\\">\\r\\n        <ion-searchbar #searchInput animated showCancelButton=\\\"focus\\\" (ionInput)=\\\"searchByName($event);\\\"\\r\\n                       (ionClear)=\\\"resultSearchListings=[]; search=false\\\" (keyup.enter)=\\\"doTheSearch(); search=true\\\"\\r\\n                       (keypress)=\\\"doTheSearch($event); search=true\\\"></ion-searchbar>\\r\\n  </span>\\r\\n\\r\\n<!--\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshChats($event)\\\">\\r\\n    <ion-refresher-content>\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n-->\\r\\n  <!-- Loading animation-->\\r\\n  <div *ngIf=\\\"loadingChats\\\">\\r\\n    <ion-list *ngFor=\\\"let item of [1,2,3,4,5,6,7,8,9,10]\\\">\\r\\n      <ion-item>\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </ion-avatar>\\r\\n        <ion-label>\\r\\n          <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\r\\n          <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\r\\n          <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"search\\\">\\r\\n    <ion-row *ngFor=\\\"let user of resultSearchListings\\\" style=\\\"line-height: 64px;\\\"\\r\\n             (click)=\\\"getMessages(user); search=false\\\">\\r\\n      <img class=\\\"avatarImg\\\" src=\\\"{{user.avatar}}\\\" style=\\\"margin: 5px; margin-right: 15px;\\\">\\r\\n      {{user.name}}\\r\\n    </ion-row>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"width: 100%;\\\" *ngIf=\\\"!loadingChats && chats && !search\\\">\\r\\n    <ion-list>\\r\\n      <ion-item *ngFor=\\\"let chat of chats.chats\\\" (click)=\\\"getMessages(chat.op)\\\" button>\\r\\n     <!-- <ion-item *ngFor=\\\"let key of getKeysOfObj(chats.ml)\\\" (click)=\\\"getMessages(chats.ml[key].op)\\\" button>-->\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <img src=\\\"{{chat.op.avatar}}\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-label>\\r\\n          <h2 [class]=\\\"'chatName ' +(chat.seen == '0' ? 'newText' : '')\\\">{{chat.op.name}}</h2>\\r\\n          <h3 [class]=\\\"'chatMsg ' +(chat.seen == '0' ? 'newText' : '')\\\">{{chat.message}}</h3>\\r\\n          <p>{{getGoodStringDate(chat.utime * 1000)}}</p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n\\r\\n    <!--\\r\\n\\r\\n                <ion-row [className]=\\\"'rowListType ' + isWhiteBackgroundBoxShadow()\\\" >\\r\\n                    <ion-col size=\\\"2\\\" style=\\\"padding: 0 !important; text-align: center; margin-top: 8px;\\\" *ngIf=\\\"chats.ml[key]\\\">\\r\\n                        <img  [class]=\\\"'avatarImg ' +(chats.ml[key].seen == '0' ? 'newImg' : '')\\\"  src=\\\"{{chats.ml[key].op.avatar}}\\\">\\r\\n                    </ion-col>\\r\\n                    <ion-col size=\\\"10\\\" style=\\\"padding: 15px; max-width: calc(100% - 60px)\\\"  *ngIf=\\\"chats.ml[key]\\\">\\r\\n                        <div style=\\\"text-align: left;\\\">\\r\\n                            <div [class]=\\\"'chatName ' +(chats.ml[key].seen == '0' ? 'newText' : '')\\\">{{chats.ml[key].op.name}}</div>\\r\\n                            <div [class]=\\\"'chatMsg ' +(chats.ml[key].seen == '0' ? 'newText' : '')\\\">{{chats.ml[key].message}}</div>\\r\\n                            <div class=\\\"chatTime\\\">\\r\\n                                {{getGoodStringDate(chats.ml[key].utime * 1000)}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </ion-col>\\r\\n                </ion-row>-->\\r\\n  </div>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n\";","export default \".textAreaSend {\\n  float: left;\\n  width: calc(100% - 50px);\\n  background: transparent !important;\\n  border: solid 1px #dedede !important;\\n  padding: 10px;\\n  font-size: 16px;\\n  color: #242429;\\n  min-height: 35px;\\n  line-height: 1.2;\\n  height: 35px;\\n  box-shadow: none !important;\\n  transition: 0.2s ease;\\n  border-radius: 15px;\\n  font-size: 15px;\\n}\\n\\n.textAreaSend[dir=rtl] {\\n  float: right;\\n}\\n\\n.avatarImg {\\n  width: 30px;\\n  height: 30px;\\n  min-height: 30px;\\n  min-width: 30px;\\n  border-radius: 50%;\\n  margin-right: 5px;\\n}\\n\\n.btnSend {\\n  background: #6c1cff;\\n  color: #fff;\\n  border: #ffdead;\\n  border-radius: 50px;\\n  height: 40px;\\n  width: 40px;\\n  float: right;\\n  outline: none !important;\\n  transition: 0.2s ease;\\n  display: flex;\\n  align-items: center;\\n  font-size: 14pt;\\n  padding-left: 9px;\\n}\\n\\n.btnSend[dir=rtl] {\\n  float: left;\\n  padding-left: 0px;\\n  padding-right: 12px;\\n}\\n\\n.btnSend:disabled {\\n  opacity: 0.4;\\n}\\n\\n.msgMine {\\n  float: right;\\n  background: #6c1cff;\\n  color: #fff;\\n  border-radius: 10px 0 10px 10px;\\n  word-break: break-word;\\n  overflow: hidden;\\n  margin: 0;\\n  padding: 9px 15px;\\n  font-size: 15px;\\n  line-height: 22px !important;\\n}\\n\\n.msgMine[dir=rtl] {\\n  float: left;\\n}\\n\\n.msgOther {\\n  float: left;\\n  background: rgba(189, 189, 189, 0.21);\\n  color: #242429;\\n  border-radius: 0 10px 10px 10px;\\n  word-break: break-word;\\n  overflow: hidden;\\n  margin: 0;\\n  padding: 9px 15px;\\n  font-size: 15px;\\n  line-height: 22px !important;\\n}\\n\\n.msgOther[dir=rtl] {\\n  float: right;\\n}\\n\\n.msgDate {\\n  font-size: 8px;\\n  display: block;\\n  margin-bottom: 5px;\\n  color: #7e7e89;\\n  text-align: right;\\n}\\n\\n.msgDate[dir=rtl] {\\n  text-align: left;\\n}\\n\\n.msgMineOther {\\n  text-align: left !important;\\n}\\n\\n#msgContainer {\\n  width: 100%;\\n  padding: 15px;\\n  padding-bottom: 35px;\\n  margin-top: 115px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvTXlMaXN0aW5nL21lc3NhZ2VzUGFnZS9jaGF0UGFnZS9DOlxcam9rZXNvbmpvZWxcXGpva2Vzb25qb2VsL3NyY1xcYXBwXFxNeUxpc3RpbmdcXG1lc3NhZ2VzUGFnZVxcY2hhdFBhZ2VcXGNoYXRQYWdlLnNjc3MiLCJzcmMvYXBwL015TGlzdGluZy9tZXNzYWdlc1BhZ2UvY2hhdFBhZ2UvY2hhdFBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSx3QkFBQTtFQUNBLGtDQUFBO0VBQ0Esb0NBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLDJCQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURHQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esd0JBQUE7RUFDQSxxQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0FGOztBRElBO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUNERjs7QURLQTtFQUNFLFlBQUE7QUNGRjs7QURLQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSwrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7QUNGRjs7QURLQTtFQUNFLFdBQUE7QUNGRjs7QURLQTtFQUNFLFdBQUE7RUFDQSxxQ0FBQTtFQUNBLGNBQUE7RUFDQSwrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7QUNGRjs7QURLQTtFQUNFLFlBQUE7QUNGRjs7QURLQTtFQUNFLGNBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7QUNGRjs7QURLQTtFQUNFLGdCQUFBO0FDRkY7O0FES0E7RUFDRSwyQkFBQTtBQ0ZGOztBREtBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxvQkFBQTtFQUNBLGlCQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC9NeUxpc3RpbmcvbWVzc2FnZXNQYWdlL2NoYXRQYWdlL2NoYXRQYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dEFyZWFTZW5ke1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA1MHB4KTtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gIGJvcmRlcjogc29saWQgMXB4ICNkZWRlZGUgIWltcG9ydGFudDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBjb2xvcjogIzI0MjQyOTtcclxuICBtaW4taGVpZ2h0OiAzNXB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjI7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcclxuICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7XHJcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICBmb250LXNpemU6IDE1cHg7XHJcbn1cclxuXHJcbi50ZXh0QXJlYVNlbmRbZGlyPVwicnRsXCJde1xyXG4gIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuXHJcbi5hdmF0YXJJbWd7XHJcbiAgd2lkdGg6IDMwcHg7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIG1pbi1oZWlnaHQ6IDMwcHg7XHJcbiAgbWluLXdpZHRoOiAzMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBtYXJnaW4tcmlnaHQ6IDVweDtcclxufVxyXG5cclxuLmJ0blNlbmR7XHJcbiAgYmFja2dyb3VuZDogIzZjMWNmZjtcclxuICBjb2xvcjogI2ZmZjtcclxuICBib3JkZXI6ICNmZmRlYWQ7XHJcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgd2lkdGg6IDQwcHg7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcclxuICB0cmFuc2l0aW9uOiAuMnMgZWFzZTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAxNHB0O1xyXG4gIHBhZGRpbmctbGVmdDogOXB4O1xyXG59XHJcblxyXG5cclxuLmJ0blNlbmRbZGlyPVwicnRsXCJde1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHBhZGRpbmctbGVmdDogMHB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDEycHg7XHJcblxyXG59XHJcblxyXG4uYnRuU2VuZDpkaXNhYmxlZHtcclxuICBvcGFjaXR5OiAwLjQ7XHJcbn1cclxuXHJcbi5tc2dNaW5le1xyXG4gIGZsb2F0OiByaWdodDtcclxuICBiYWNrZ3JvdW5kOiAjNmMxY2ZmO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHggMCAxMHB4IDEwcHg7XHJcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiA5cHggMTVweDtcclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgbGluZS1oZWlnaHQ6IDIycHghaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubXNnTWluZVtkaXI9XCJydGxcIl17XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuXHJcbi5tc2dPdGhlcntcclxuICBmbG9hdDogbGVmdDtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDE4OSwgMTg5LCAxODksIDAuMjEpO1xyXG4gIGNvbG9yOiAjMjQyNDI5O1xyXG4gIGJvcmRlci1yYWRpdXM6IDAgMTBweCAxMHB4IDEwcHg7XHJcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiA5cHggMTVweDtcclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgbGluZS1oZWlnaHQ6IDIycHghaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubXNnT3RoZXJbZGlyPVwicnRsXCJde1xyXG4gIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuLm1zZ0RhdGV7XHJcbiAgZm9udC1zaXplOiA4cHg7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIGNvbG9yOiAjN2U3ZTg5O1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG59XHJcblxyXG4ubXNnRGF0ZVtkaXI9XCJydGxcIl17XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuLm1zZ01pbmVPdGhlcntcclxuICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbiNtc2dDb250YWluZXJ7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMTVweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMzVweDtcclxuICBtYXJnaW4tdG9wOiAxMTVweDtcclxufVxyXG4iLCIudGV4dEFyZWFTZW5kIHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA1MHB4KTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgYm9yZGVyOiBzb2xpZCAxcHggI2RlZGVkZSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjMjQyNDI5O1xuICBtaW4taGVpZ2h0OiAzNXB4O1xuICBsaW5lLWhlaWdodDogMS4yO1xuICBoZWlnaHQ6IDM1cHg7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbiAgdHJhbnNpdGlvbjogMC4ycyBlYXNlO1xuICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG59XG5cbi50ZXh0QXJlYVNlbmRbZGlyPXJ0bF0ge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5hdmF0YXJJbWcge1xuICB3aWR0aDogMzBweDtcbiAgaGVpZ2h0OiAzMHB4O1xuICBtaW4taGVpZ2h0OiAzMHB4O1xuICBtaW4td2lkdGg6IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5idG5TZW5kIHtcbiAgYmFja2dyb3VuZDogIzZjMWNmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogI2ZmZGVhZDtcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XG4gIHRyYW5zaXRpb246IDAuMnMgZWFzZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNHB0O1xuICBwYWRkaW5nLWxlZnQ6IDlweDtcbn1cblxuLmJ0blNlbmRbZGlyPXJ0bF0ge1xuICBmbG9hdDogbGVmdDtcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDEycHg7XG59XG5cbi5idG5TZW5kOmRpc2FibGVkIHtcbiAgb3BhY2l0eTogMC40O1xufVxuXG4ubXNnTWluZSB7XG4gIGZsb2F0OiByaWdodDtcbiAgYmFja2dyb3VuZDogIzZjMWNmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHggMCAxMHB4IDEwcHg7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogOXB4IDE1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgbGluZS1oZWlnaHQ6IDIycHggIWltcG9ydGFudDtcbn1cblxuLm1zZ01pbmVbZGlyPXJ0bF0ge1xuICBmbG9hdDogbGVmdDtcbn1cblxuLm1zZ090aGVyIHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTg5LCAxODksIDE4OSwgMC4yMSk7XG4gIGNvbG9yOiAjMjQyNDI5O1xuICBib3JkZXItcmFkaXVzOiAwIDEwcHggMTBweCAxMHB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDlweCAxNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMnB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tc2dPdGhlcltkaXI9cnRsXSB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLm1zZ0RhdGUge1xuICBmb250LXNpemU6IDhweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgY29sb3I6ICM3ZTdlODk7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4ubXNnRGF0ZVtkaXI9cnRsXSB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbi5tc2dNaW5lT3RoZXIge1xuICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XG59XG5cbiNtc2dDb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDM1cHg7XG4gIG1hcmdpbi10b3A6IDExNXB4O1xufSJdfQ== */\";","import {Component, ElementRef, ViewChild} from '@angular/core';\r\nimport {Chat} from '../../../entities/Chat';\r\nimport {Service} from '../../../services/Service';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {LocationService} from '../../../services/LocationService';\r\nimport {IonContent, NavController} from '@ionic/angular';\r\nimport {GlobalFields} from '../../../GlobalFields';\r\nimport {Router} from '@angular/router';\r\nimport {MyListingService} from '../../../services/MyListingService';\r\n\r\n\r\n@Component({\r\n  selector: 'chatPage',\r\n  templateUrl: 'chatPage.html',\r\n  styleUrls: ['chatPage.scss']\r\n\r\n})\r\nexport class ChatPage {\r\n  @ViewChild('scrollElement') content: IonContent;\r\n\r\n\r\n  GlobalFields = GlobalFields;\r\n\r\n  msgsSelected: Chat;\r\n\r\n  msgToSend = '';\r\n\r\n  loading = true;\r\n  loadingMsg = false;\r\n\r\n  refresher;\r\n\r\n  constructor(public service: Service, public mlservice: MyListingService, private _sanitizer: DomSanitizer, public translate: TranslateService,\r\n              private locationService: LocationService, private navController: NavController, private router: Router) {\r\n\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n\r\n    if (this.GlobalFields.senderMsgSelected && this.GlobalFields.senderMsgSelected.id) {\r\n      this.mlservice.getMsgsOfAChat(this.GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\r\n        this.GlobalFields.msgsSelected = data;\r\n        this.loading = false;\r\n        this.resize();\r\n        // this.content.scrollToBottom();\r\n\r\n        if (GlobalFields.senderMsgSelected)\r\n          console.log('Mark as seen');\r\n        this.mlservice.markAsSeenChat(GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\r\n        });\r\n\r\n        this.refresher = setInterval(() => {\r\n          this.refreshChat();\r\n        }, 2000);\r\n      }, e => {\r\n        this.router.navigateByUrl('tabs/messages');\r\n      });\r\n    } else\r\n      this.router.navigateByUrl('tabs/messages');\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    // this.GlobalFields.msgsSelected = undefined;\r\n    clearInterval(this.refresher);\r\n  }\r\n\r\n  getKeysOfObj(obj) {\r\n    const res = Object.keys(obj);\r\n    if (!res)\r\n      return [];\r\n    return res;\r\n  }\r\n\r\n  resize() {\r\n    /*const input = document.getElementById('myInput');\r\n    const container = document.getElementById('msgContainer');\r\n    if (input && container) {\r\n        let newHeight = input.scrollHeight > (window.innerHeight / 2) ? Math.round(window.innerHeight / 2) : input.scrollHeight;\r\n        if (!this.msgToSend || this.msgToSend == \"\")\r\n            newHeight = 35;\r\n        //input.style.height = (newHeight) + 'px';\r\n        container.style.marginBottom = (newHeight + 50) + 'px';\r\n        container.scrollTop = container.scrollHeight;\r\n    }\r\n    this.content.scrollToBottom();\r\n   */\r\n  }\r\n\r\n  getGoodStringDate(timestamp: number) {\r\n    return new Date(timestamp).toLocaleString();\r\n  }\r\n\r\n  sendMsg() {\r\n\r\n\r\n    const msg = this.msgToSend;\r\n    this.msgToSend = undefined;\r\n\r\n    this.loadingMsg = true;\r\n    //this.content.scrollToBottom();\r\n    this.content.scrollToTop();\r\n    setTimeout(() => {\r\n      this.resize();\r\n      //this.content.scrollToBottom();\r\n      this.content.scrollToTop();\r\n    }, 100);\r\n\r\n    if (msg) {\r\n      this.mlservice.sendMsg(msg, GlobalFields.senderMsgSelected.id).subscribe(() => {\r\n        this.loadingMsg = false;\r\n        this.refreshChat(true);\r\n      }), err => {\r\n        console.log(err);\r\n        this.msgToSend = msg;\r\n        this.loadingMsg = false;\r\n      };\r\n    }\r\n\r\n  }\r\n\r\n\r\n  refreshChat(scroll?: boolean) {\r\n    console.log('RefreshChat');\r\n    if (GlobalFields.senderMsgSelected)\r\n      this.mlservice.getMsgsOfAChat(GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\r\n        this.GlobalFields.msgsSelected = data;\r\n        if (scroll) {\r\n          setTimeout(() => {\r\n            this.resize();\r\n            // this.content.scrollToBottom();\r\n          }, 500);\r\n\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport {NgModule} from \"@angular/core\";\r\nimport {SharedModule} from '../../shared.module';\r\nimport {MessagesPage} from './messagesPage';\r\nimport {ChatPage} from './chatPage/chatPage';\r\nimport {LoginComponentModule} from '../../menuPage/loginComponent/loginComponent.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        SharedModule,\r\n        RouterModule.forChild([\r\n            {\r\n                path: '',\r\n                component: MessagesPage\r\n            },\r\n            {\r\n                path: 'chatPage',\r\n                component: ChatPage\r\n            }\r\n        ]),\r\n        LoginComponentModule\r\n    ],\r\n    declarations: [MessagesPage, ChatPage]\r\n})\r\nexport class MessagesPageModule {}\r\n","export default \".boxShadowList {\\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.1);\\n}\\n\\n.rowListType {\\n  background: white;\\n  margin-bottom: 10px;\\n  border-radius: 5px;\\n  padding: 0 5px 0 5px;\\n}\\n\\n.avatarImg {\\n  width: 54px;\\n  height: 54px;\\n  min-height: 54px;\\n  min-width: 54px;\\n  border-radius: 50%;\\n}\\n\\n.newImg {\\n  border: 2px solid #f24286;\\n  padding: 2px;\\n  width: 56px !important;\\n  height: 56px !important;\\n  min-height: 56px !important;\\n  min-width: 56px !important;\\n}\\n\\n.newText {\\n  color: #242429 !important;\\n  font-weight: 600 !important;\\n}\\n\\n.chatName {\\n  color: #242429;\\n  font-weight: 600;\\n  font-size: 11pt;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-transform: capitalize;\\n  max-width: calc(100% - 20px);\\n}\\n\\n.chatMsg {\\n  font-size: 9pt;\\n  line-height: 17px;\\n  margin-top: 5px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-transform: capitalize;\\n  margin-bottom: 0;\\n  color: #7e7e89;\\n  max-width: calc(100% - 20px);\\n}\\n\\n.chatTime {\\n  position: absolute;\\n  right: 0px;\\n  text-align: right;\\n  top: 0;\\n  height: 100%;\\n  padding: 9px 0px 15px 80px;\\n  font-size: 9px;\\n  color: #7e7e89;\\n  display: grid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvTXlMaXN0aW5nL21lc3NhZ2VzUGFnZS9DOlxcam9rZXNvbmpvZWxcXGpva2Vzb25qb2VsL3NyY1xcYXBwXFxNeUxpc3RpbmdcXG1lc3NhZ2VzUGFnZVxcbWVzc2FnZXNQYWdlLnNjc3MiLCJzcmMvYXBwL015TGlzdGluZy9tZXNzYWdlc1BhZ2UvbWVzc2FnZXNQYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFFRSwwQ0FBQTtBQ0FGOztBRElBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7QUNERjs7QURJQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUNERjs7QURJQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSwyQkFBQTtFQUNBLDBCQUFBO0FDREY7O0FESUE7RUFDRSx5QkFBQTtFQUNBLDJCQUFBO0FDREY7O0FESUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7RUFDQSw0QkFBQTtBQ0RGOztBRElBO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsNEJBQUE7QUNERjs7QURJQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0VBQ0EsTUFBQTtFQUNBLFlBQUE7RUFDQSwwQkFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtBQ0RGIiwiZmlsZSI6InNyYy9hcHAvTXlMaXN0aW5nL21lc3NhZ2VzUGFnZS9tZXNzYWdlc1BhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4uYm94U2hhZG93TGlzdHtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwwLDAsLjEpO1xyXG4gIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwwLDAsLjEpO1xyXG59XHJcblxyXG5cclxuLnJvd0xpc3RUeXBle1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIHBhZGRpbmc6IDAgNXB4IDAgNXB4O1xyXG59XHJcblxyXG4uYXZhdGFySW1ne1xyXG4gIHdpZHRoOiA1NHB4O1xyXG4gIGhlaWdodDogNTRweDtcclxuICBtaW4taGVpZ2h0OiA1NHB4O1xyXG4gIG1pbi13aWR0aDogNTRweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn1cclxuXHJcbi5uZXdJbWd7XHJcbiAgYm9yZGVyOiAycHggc29saWQgI2YyNDI4NjtcclxuICBwYWRkaW5nOiAycHg7XHJcbiAgd2lkdGg6IDU2cHggIWltcG9ydGFudDtcclxuICBoZWlnaHQ6IDU2cHggIWltcG9ydGFudDtcclxuICBtaW4taGVpZ2h0OiA1NnB4ICFpbXBvcnRhbnQ7XHJcbiAgbWluLXdpZHRoOiA1NnB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5uZXdUZXh0e1xyXG4gIGNvbG9yOiAjMjQyNDI5IWltcG9ydGFudDtcclxuICBmb250LXdlaWdodDogNjAwIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNoYXROYW1le1xyXG4gIGNvbG9yOiAjMjQyNDI5O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiAxMXB0O1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xyXG59XHJcblxyXG4uY2hhdE1zZ3tcclxuICBmb250LXNpemU6IDlwdDtcclxuICBsaW5lLWhlaWdodDogMTdweDtcclxuICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgY29sb3I6ICM3ZTdlODk7XHJcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTtcclxufVxyXG5cclxuLmNoYXRUaW1le1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMHB4O1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIHRvcDogMDtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgcGFkZGluZzogOXB4IDBweCAxNXB4IDgwcHg7XHJcbiAgZm9udC1zaXplOiA5cHg7XHJcbiAgY29sb3I6ICM3ZTdlODk7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxufVxyXG4iLCIuYm94U2hhZG93TGlzdCB7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAzcHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5yb3dMaXN0VHlwZSB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDAgNXB4IDAgNXB4O1xufVxuXG4uYXZhdGFySW1nIHtcbiAgd2lkdGg6IDU0cHg7XG4gIGhlaWdodDogNTRweDtcbiAgbWluLWhlaWdodDogNTRweDtcbiAgbWluLXdpZHRoOiA1NHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi5uZXdJbWcge1xuICBib3JkZXI6IDJweCBzb2xpZCAjZjI0Mjg2O1xuICBwYWRkaW5nOiAycHg7XG4gIHdpZHRoOiA1NnB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNTZweCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiA1NnB4ICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogNTZweCAhaW1wb3J0YW50O1xufVxuXG4ubmV3VGV4dCB7XG4gIGNvbG9yOiAjMjQyNDI5ICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcbn1cblxuLmNoYXROYW1lIHtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMTFwdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdE1zZyB7XG4gIGZvbnQtc2l6ZTogOXB0O1xuICBsaW5lLWhlaWdodDogMTdweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGNvbG9yOiAjN2U3ZTg5O1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdFRpbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICB0b3A6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogOXB4IDBweCAxNXB4IDgwcHg7XG4gIGZvbnQtc2l6ZTogOXB4O1xuICBjb2xvcjogIzdlN2U4OTtcbiAgZGlzcGxheTogZ3JpZDtcbn0iXX0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {NavController, Platform, PopoverController} from '@ionic/angular';\r\nimport {Listing} from '../../entities/myListing/listing';\r\nimport {GlobalFields} from '../../GlobalFields';\r\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\r\n\r\nimport {Service} from '../../services/Service';\r\n\r\n\r\nimport 'hammerjs';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport {LocationService} from '../../services/LocationService';\r\nimport {Chat} from '../../entities/Chat';\r\nimport {Profile} from '../../entities/profile';\r\nimport {User} from '../../entities/user';\r\nimport {MyListingService} from '../../services/MyListingService';\r\n\r\n@Component({\r\n  selector: 'messagesPage',\r\n  templateUrl: 'messagesPage.html',\r\n  styleUrls: ['messagesPage.scss']\r\n\r\n})\r\nexport class MessagesPage implements OnInit {\r\n  // @ViewChild('search') searchInput : any;\r\n\r\n  chats: Chat;\r\n\r\n  loadingChats = true;\r\n\r\n  GlobalFields = GlobalFields;\r\n\r\n  msgsSelected: Chat;\r\n\r\n  search = false;\r\n  searchString;\r\n  waitSearch = false;\r\n  resultSearchListings: User[] = [];\r\n\r\n\r\n  msgToOwner: { avatar?: string; id: number, name?: string };\r\n\r\n  refresher;\r\n\r\n  constructor(public service: Service, public mlservice: MyListingService, private _sanitizer: DomSanitizer, public translate: TranslateService,\r\n              private locationService: LocationService, private navController: NavController) {\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initMsg();\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n    this.GlobalFields.showTabs = true;\r\n\r\n    if (this.GlobalFields.msgToOwner) {\r\n      this.msgToOwner = this.GlobalFields.msgToOwner;\r\n      if (GlobalFields.isLoggedIn)\r\n        this.getMessages(this.msgToOwner);\r\n    }\r\n    this.GlobalFields.msgToOwner = undefined;\r\n    this.GlobalFields.loadingHard = false;\r\n\r\n    //this.GlobalFields.msgsSelected = undefined;\r\n    console.log('ionViewDidEnter');\r\n\r\n    if (this.GlobalFields.isLoggedIn) {\r\n      this.refresher = setInterval(() => {\r\n        this.getNewChatsInterval();\r\n      }, 3000);\r\n    }\r\n\r\n    this.service.setWhiteBlackBackgroundStatusBar();\r\n\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    clearInterval(this.refresher);\r\n  }\r\n\r\n\r\n  initMsg() {\r\n\r\n    if (this.GlobalFields.isLoggedIn) {\r\n      this.getChats();\r\n      //this.service.getRecentViewedListing();\r\n      if (this.msgToOwner)\r\n        this.getMessages(this.msgToOwner);\r\n    }\r\n  }\r\n\r\n  getChats() {\r\n    this.loadingChats = true;\r\n    this.mlservice.getChats().subscribe((data: any) => {\r\n      this.chats = data;\r\n      this.loadingChats = false;\r\n    }, function (e) {\r\n      this.service.refreshCookie();\r\n    });\r\n  }\r\n\r\n  refreshChats(event) {\r\n    this.loadingChats = true;\r\n    this.mlservice.getChats().subscribe((data: any) => {\r\n      this.chats = data;\r\n      this.loadingChats = false;\r\n      event.target.complete();\r\n    });\r\n  }\r\n\r\n  getNewChatsInterval() {\r\n    console.log('getNewChatsInterval');\r\n    if (this.GlobalFields.isLoggedIn) {\r\n      this.mlservice.getChats().subscribe((data: any) => {\r\n        this.chats = data;\r\n      });\r\n    }\r\n  }\r\n\r\n  getMessages(user?: User) {\r\n    this.msgToOwner = undefined;\r\n    if (user && user.id) {\r\n      //this.GlobalFields.loadingSoft = true;\r\n      this.GlobalFields.senderMsgSelected = user;\r\n      this.GlobalFields.showTabs = false;\r\n      this.navController.navigateForward('tabs/' + GlobalFields.site_details.themeEnabled + '/messages/chatPage');\r\n    }\r\n  }\r\n\r\n  isWhiteBackgroundBoxShadow(): string {\r\n    if (GlobalFields.isWhiteBackground())\r\n      return '';\r\n    else\r\n      return ' boxShadowList';\r\n  }\r\n\r\n  getKeysOfObj(obj) {\r\n    const res = Object.keys(obj);\r\n    if (!res)\r\n      return [];\r\n    return res;\r\n  }\r\n\r\n\r\n  getBackground(image: string) {\r\n    return this._sanitizer.bypassSecurityTrustStyle(`url(${image})`);\r\n  }\r\n\r\n  getGoodStringDate(timestamp: number) {\r\n    return new Date(timestamp).toLocaleString();\r\n  }\r\n\r\n\r\n  searchByName(ev: any) {\r\n    this.searchString = ev.target.value;\r\n  }\r\n\r\n  doTheSearch(event?) {\r\n\r\n    console.log('Enter called');\r\n    console.log(event);\r\n\r\n    let doIt = false;\r\n    if (event && event.key === 'Enter')  // Do stuff}\r\n      doIt = true;\r\n    else if (!event)\r\n      doIt = true;\r\n\r\n    if (doIt) {\r\n      this.resultSearchListings = [];\r\n\r\n      setTimeout(() => {\r\n        this.waitSearch = false;\r\n        this.loadingChats = true;\r\n        if (!this.waitSearch && this.searchString && this.searchString != '') {\r\n          this.mlservice.getMsgUsersByString(this.searchString)\r\n            .subscribe((data: any) => {\r\n              this.resultSearchListings = data;\r\n              this.loadingChats = false;\r\n            });\r\n          this.waitSearch = true;\r\n        }\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  /*setFocusSearchInput(){\r\n      setTimeout(() => {\r\n          this.searchInput.setFocus();\r\n      }, 500);\r\n  }*/\r\n}\r\n"],"sourceRoot":"webpack:///"}